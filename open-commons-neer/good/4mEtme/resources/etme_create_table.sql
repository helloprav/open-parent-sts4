-- MySQL Script generated by MySQL Workbench
-- Thu Oct 22 18:47:01 2015
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema StartupMigrationEngine
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `StartupMigrationEngine` DEFAULT CHARACTER SET latin1 ;
-- -----------------------------------------------------
-- Schema new_schema1
-- -----------------------------------------------------
USE `StartupMigrationEngine`;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`BusinessServices`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`BusinessServices` (
  `BusinessServiceID` INT(11) NOT NULL AUTO_INCREMENT,
  `BusinessServiceName` VARCHAR(200) NOT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`BusinessServiceID`),
  INDEX `fk_BusinessServices_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_BusinessServices_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_BusinessServices_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_BusinessServices_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_BusinessServices_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_BusinessServices_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Users`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Users` (
  `UserID` INT NOT NULL AUTO_INCREMENT,
  `UserName` VARCHAR(50) NOT NULL,
  `FirstName` VARCHAR(50) NOT NULL,
  `LastName` VARCHAR(50) NOT NULL,
  `Phone` VARCHAR(50) NULL,
  `Password` VARCHAR(50) NULL,
  `EMail` VARCHAR(200) NULL,
  `GlobalAdmin` BIT(1) NULL,
  `IsCustomer` BIT(1) NULL,
  `Status` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`UserID`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`DBBackupStatus`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`DBBackupStatus` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `Status` VARCHAR(50) NOT NULL,
  `Description` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`MigrationComplexities`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`MigrationComplexities` (
  `MigrationComplexityID` INT NOT NULL AUTO_INCREMENT,
  `MigrationComplexityName` VARCHAR(50) NOT NULL,
  `Description` VARCHAR(200) NULL,
  PRIMARY KEY (`MigrationComplexityID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`SLAs`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`SLAs` (
  `SLAID` INT NOT NULL AUTO_INCREMENT,
  `SLAName` VARCHAR(100) NOT NULL,
  `RTOMinutes` INT NULL,
  `RPOMinutes` INT NULL,
  `AvailabilityPercent` FLOAT NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`SLAID`),
    INDEX `fk_SLAs_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_SLAs_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_SLAs_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_SLAs_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
 ) ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Dispositions`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Dispositions` (
  `DispositionID` INT NOT NULL AUTO_INCREMENT,
  `DispositionName` VARCHAR(100) NOT NULL,
  `Description` VARCHAR(2000) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`DispositionID`),
  INDEX `fk_Dispositions_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_Dispositions_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_Dispositions_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_Dispositions_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
 ) ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`DiscoveryState`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`DiscoveryState` (
  `DiscoveryStateID` INT NOT NULL AUTO_INCREMENT,
  `DiscoveryStateName` VARCHAR(100) NOT NULL,
  `OrderNum` INT NULL,
  `FreezeItem` CHAR(1) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT NOT NULL,
  PRIMARY KEY (`DiscoveryStateID`),
  INDEX `fk_DiscoveryState_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_DiscoveryState_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_DiscoveryState_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_DiscoveryState_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
 ) ENGINE = InnoDB;



-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`MigrationSlots`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`MigrationSlots` (
  `MigrationSlotID` INT NOT NULL AUTO_INCREMENT,
  `MigrationSlotName` VARCHAR(200) NOT NULL,
  `MigrationSlotOwnerID` INT NULL,
  `MigrationSlotExecutionDate` DATE NULL,
  PRIMARY KEY (`MigrationSlotID`),
  INDEX `fk_MigrationSlots_Users1_idx` (`MigrationSlotOwnerID` ASC),
  CONSTRAINT `fk_MigrationSlots_Users1`
    FOREIGN KEY (`MigrationSlotOwnerID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`MoveGroups`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`MoveGroups` (
  `MoveGroupID` INT NOT NULL AUTO_INCREMENT,
  `MoveGroupName` VARCHAR(100) NOT NULL,
  `MoveGroupOwnerID` INT NULL,
  `MigrationSlotID` INT NULL,
  PRIMARY KEY (`MoveGroupID`),
  INDEX `fk_MoveGroups_Users1_idx` (`MoveGroupOwnerID` ASC),
  INDEX `fk_MoveGroups_MigrationSlots1_idx` (`MigrationSlotID` ASC),
  CONSTRAINT `fk_MoveGroups_Users1`
    FOREIGN KEY (`MoveGroupOwnerID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_MoveGroups_MigrationSlots1`
    FOREIGN KEY (`MigrationSlotID`)
    REFERENCES `StartupMigrationEngine`.`MigrationSlots` (`MigrationSlotID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`MigrationScopes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`MigrationScopes` (
  `MigrationScopeID` INT NOT NULL AUTO_INCREMENT,
  `MigrationScopeName` VARCHAR(100) NOT NULL,
  `Description` VARCHAR(300) DEFAULT NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`MigrationScopeID`),
  INDEX `fk_MigrationScopes_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_MigrationScopes_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_MigrationScopes_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_MigrationScopes_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
  ) ENGINE = InnoDB;

  
-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`AssetTypes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`AssetTypes` (
  `AssetTypeID` INT NOT NULL AUTO_INCREMENT,
  `AssetType` VARCHAR(100) NOT NULL,
  `AssetTypeName` VARCHAR(100) NULL,
  `AssetTemplateFileName` VARCHAR(100) NULL,
  `QuestionnaireFileName` VARCHAR(100) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`AssetTypeID`),
  UNIQUE INDEX `AssetType_UNIQUE` (`AssetType` ASC),
  INDEX `fk_AssetTypes_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_AssetTypes_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_AssetTypes_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_AssetTypes_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
 ) ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`DataSources`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`DataSources` (
  `DataSourceID` INT NOT NULL AUTO_INCREMENT,
  `DataSourceName` VARCHAR(100) NOT NULL,
  `PriorityOrderNum` INT NOT NULL,
  PRIMARY KEY (`DataSourceID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TemplateUploads`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TemplateUploads` (
  `TemplateUploadID` INT NOT NULL AUTO_INCREMENT,
  `AssetTypeID` INT NOT NULL,
  `LocalFileName` VARCHAR(200) NULL,
  `OriginalFileName` VARCHAR(200) NULL,
  `DataSourceID` INT NOT NULL,
  `UploadStatus` VARCHAR(100) NOT NULL,
  `DataConsistencyCheckOverriden` CHAR(1) NULL,
  `DataSourceConflictOverriden` CHAR(1) NULL,
  `AssetData` LONGBLOB NULL,
  `UploadUserID` INT NOT NULL,
  `UploadTime` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`TemplateUploadID`),
  INDEX `fk_TemplateUploads_Users1_idx` (`UploadUserID` ASC),
  INDEX `fk_TemplateUploads_DataSources1_idx` (`DataSourceID` ASC),
  INDEX `fk_TemplateUploads_AssetTypes1_idx` (`AssetTypeID` ASC),
  CONSTRAINT `fk_TemplateUploads_Users1`
    FOREIGN KEY (`UploadUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TemplateUploads_DataSources1`
    FOREIGN KEY (`DataSourceID`)
    REFERENCES `StartupMigrationEngine`.`DataSources` (`DataSourceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TemplateUploads_AssetTypes1`
    FOREIGN KEY (`AssetTypeID`)
    REFERENCES `StartupMigrationEngine`.`AssetTypes` (`AssetTypeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Applications`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Applications` (
  `ApplicationID` INT(11) NOT NULL AUTO_INCREMENT,
  `ApplicationName` VARCHAR(200) NOT NULL,
  `DiscoveryStateID` INT NULL,
  `MigrationScopeID` INT NULL,
  `BusinessServiceID` INT(11) NULL,
  `BusinessOwnerID` INT NULL,
  `TechnicalOwnerID` INT NULL,
  `BusinessUseDescription` VARCHAR(2000) NULL,
  `DesignDocumentationLink` VARCHAR(500) NULL,
  `MigrationComplexityID` INT NULL,
  `BusinessCriticalityID` INT NULL,
  `CurrentSLAID` INT NULL,
  `TargetSLAID` INT NULL,
  `CurrentDispositionID` INT NULL,
  `TargetDisposition` VARCHAR(100) NULL,
  `MoveGroupID` INT NULL,
  `Notes` LONGTEXT NULL,
  `CustomField1` VARCHAR(200) NULL,
  `CustomField2` VARCHAR(200) NULL,
  `CustomField3` VARCHAR(200) NULL,
  `ChangeControlDecisionID` INT NULL,
  `ChangeControlNumber` VARCHAR(200) NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ApplicationID`),
  INDEX `fk_Applications_BusinessServices_idx` (`BusinessServiceID` ASC),
  INDEX `fk_Applications_BusinessOwner_idx` (`BusinessOwnerID` ASC),
  INDEX `fk_Applications_TechnicalOwner_idx` (`TechnicalOwnerID` ASC),
  INDEX `fk_Applications_MigrationComplexities1_idx` (`MigrationComplexityID` ASC),
  INDEX `fk_Applications_SLAs1_idx` (`CurrentSLAID` ASC),
  INDEX `fk_Applications_Dispositions1_idx` (`CurrentDispositionID` ASC),
  INDEX `fk_Applications_Dispositions2_idx` (`TargetDisposition` ASC),
  INDEX `fk_Applications_DiscoveryState1_idx` (`DiscoveryStateID` ASC),
  INDEX `fk_Applications_MoveGroups1_idx` (`MoveGroupID` ASC),
  INDEX `fk_Applications_MigrationScopes1_idx` (`MigrationScopeID` ASC),
  INDEX `fk_Applications_SLAs2_idx` (`TargetSLAID` ASC),
  INDEX `fk_Applications_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_Applications_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_Applications_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_Applications_BusinessServices`
    FOREIGN KEY (`BusinessServiceID`)
    REFERENCES `StartupMigrationEngine`.`BusinessServices` (`BusinessServiceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Applications_BusinessOwner`
    FOREIGN KEY (`BusinessOwnerID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Applications_TechnicalOwner`
    FOREIGN KEY (`TechnicalOwnerID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Applications_MigrationComplexities1`
    FOREIGN KEY (`MigrationComplexityID`)
    REFERENCES `StartupMigrationEngine`.`MigrationComplexities` (`MigrationComplexityID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Applications_SLAs1`
    FOREIGN KEY (`CurrentSLAID`)
    REFERENCES `StartupMigrationEngine`.`SLAs` (`SLAID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Applications_Dispositions1`
    FOREIGN KEY (`CurrentDispositionID`)
    REFERENCES `StartupMigrationEngine`.`Dispositions` (`DispositionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Applications_DiscoveryState1`
    FOREIGN KEY (`DiscoveryStateID`)
    REFERENCES `StartupMigrationEngine`.`DiscoveryState` (`DiscoveryStateID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Applications_MoveGroups1`
    FOREIGN KEY (`MoveGroupID`)
    REFERENCES `StartupMigrationEngine`.`MoveGroups` (`MoveGroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Applications_MigrationScopes1`
    FOREIGN KEY (`MigrationScopeID`)
    REFERENCES `StartupMigrationEngine`.`MigrationScopes` (`MigrationScopeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Applications_SLAs2`
    FOREIGN KEY (`TargetSLAID`)
    REFERENCES `StartupMigrationEngine`.`SLAs` (`SLAID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
 CONSTRAINT `fk_Applications_CreatedByUser`
  FOREIGN KEY (`CreatedByUserID`)
  REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION,	
 CONSTRAINT `fk_Applications_LastUpdatedByUser`
  FOREIGN KEY (`LastUpdatedByUserID`)
  REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION,
 CONSTRAINT `fk_Applications_TemplateUploads`
  FOREIGN KEY (`TemplateUploadID`)
  REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION) 
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Groups`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Groups` (
  `GroupID` INT NOT NULL AUTO_INCREMENT,
  `GroupName` VARCHAR(100) NOT NULL,
  `CanEditApplications` BIT(1) NULL,
  `CanEditServers` BIT(1) NULL,
  `CanEditNetworks` BIT(1) NULL,
  `UserAdmin` BIT(1) NULL,
  PRIMARY KEY (`GroupID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`UserGroups`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`UserGroups` (
  `UserGroupID` INT NOT NULL AUTO_INCREMENT,
  `UserID` INT NOT NULL,
  `GroupID` INT NOT NULL,
  PRIMARY KEY (`UserGroupID`),
  INDEX `fk_UserGroups_Users1_idx` (`UserID` ASC),
  INDEX `fk_UserGroups_Groups1_idx` (`GroupID` ASC),
  CONSTRAINT `fk_UserGroups_Users1`
    FOREIGN KEY (`UserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_UserGroups_Groups1`
    FOREIGN KEY (`GroupID`)
    REFERENCES `StartupMigrationEngine`.`Groups` (`GroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`UserApplicationEditRules`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`UserApplicationEditRules` (
  `UserApplicationEditRuleID` INT NOT NULL AUTO_INCREMENT,
  `UserID` INT NOT NULL,
  `ApplicationID` INT NOT NULL,
  `Rule` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`UserApplicationEditRuleID`),
  INDEX `fk_UserApplicationEditRules_Users1_idx` (`UserID` ASC),
  INDEX `fk_UserApplicationEditRules_Applications1_idx` (`ApplicationID` ASC),
  CONSTRAINT `fk_UserApplicationEditRules_Users1`
    FOREIGN KEY (`UserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_UserApplicationEditRules_Applications1`
    FOREIGN KEY (`ApplicationID`)
    REFERENCES `StartupMigrationEngine`.`Applications` (`ApplicationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`GroupApplicationEditRules`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`GroupApplicationEditRules` (
  `GroupApplicationEditRuleID` INT NOT NULL AUTO_INCREMENT,
  `GroupID` INT NOT NULL,
  `ApplicationID` INT NOT NULL,
  `Rule` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`GroupApplicationEditRuleID`),
  INDEX `fk_GroupApplicationEditRules_Groups1_idx` (`GroupID` ASC),
  INDEX `fk_GroupApplicationEditRules_Applications1_idx` (`ApplicationID` ASC),
  CONSTRAINT `fk_GroupApplicationEditRules_Groups1`
    FOREIGN KEY (`GroupID`)
    REFERENCES `StartupMigrationEngine`.`Groups` (`GroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_GroupApplicationEditRules_Applications1`
    FOREIGN KEY (`ApplicationID`)
    REFERENCES `StartupMigrationEngine`.`Applications` (`ApplicationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ApplicationComponents`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ApplicationComponents` (
  `ApplicationComponentID` INT NOT NULL AUTO_INCREMENT,
  `ApplicationComponentName` VARCHAR(200) NOT NULL,
  `ApplicationID` INT NOT NULL,
  `Description` VARCHAR(2000) NULL,
  `MigrationScopeID` INT NULL,
  `MoveGroupID` INT NULL,
  `CurrentDispositionID` INT NULL,
  `TargetDisposition` VARCHAR(100) NULL,
  `CustomField1` VARCHAR(200) NULL,
  `CustomField2` VARCHAR(200) NULL,
  `CustomField3` VARCHAR(200) NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ApplicationComponentID`),
  INDEX `fk_ApplicationComponents_Applications1_idx` (`ApplicationID` ASC),
  INDEX `fk_ApplicationComponents_MigrationScopes1_idx` (`MigrationScopeID` ASC),
  INDEX `fk_ApplicationComponents_MoveGroups1_idx` (`MoveGroupID` ASC),
  INDEX `fk_ApplicationComponents_Dispositions1_idx` (`CurrentDispositionID` ASC),
  INDEX `fk_ApplicationComponents_Dispositions2_idx` (`TargetDisposition` ASC),
  INDEX `fk_ApplicationComponents_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ApplicationComponents_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ApplicationComponents_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ApplicationComponents_Applications1`
    FOREIGN KEY (`ApplicationID`)
    REFERENCES `StartupMigrationEngine`.`Applications` (`ApplicationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponents_MigrationScopes1`
    FOREIGN KEY (`MigrationScopeID`)
    REFERENCES `StartupMigrationEngine`.`MigrationScopes` (`MigrationScopeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponents_MoveGroups1`
    FOREIGN KEY (`MoveGroupID`)
    REFERENCES `StartupMigrationEngine`.`MoveGroups` (`MoveGroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponents_Dispositions1`
    FOREIGN KEY (`CurrentDispositionID`)
    REFERENCES `StartupMigrationEngine`.`Dispositions` (`DispositionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponents_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ApplicationComponents_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
 CONSTRAINT `fk_ApplicationComponents_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ApplicationInstances`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ApplicationInstances` (
  `ApplicationInstanceID` INT NOT NULL AUTO_INCREMENT,
  `ApplicationInstanceName` VARCHAR(200) NOT NULL,
  `DiscoveryStateID` INT NULL,
  `MigrationScopeID` INT NULL,
  `ApplicationID` INT NOT NULL,
  `BusinessOwnerID` INT NULL,
  `TechnicalOwnerID` INT NULL,
  `CurrentDispositionID` INT NULL,
  `TargetDisposition` VARCHAR(100) NULL,
  `MoveGroupID` INT NULL,
  `CurrentSLAID` INT NULL,
  `TargetSLAID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ApplicationInstanceID`),
  INDEX `fk_ApplicationInstances_Applications1_idx` (`ApplicationID` ASC),
  INDEX `fk_ApplicationInstances_BusinessOwner_idx` (`BusinessOwnerID` ASC),
  INDEX `fk_ApplicationInstances_TechnicalOwner_idx` (`TechnicalOwnerID` ASC),
  INDEX `fk_ApplicationInstances_Dispositions1_idx` (`CurrentDispositionID` ASC),
  INDEX `fk_ApplicationInstances_Dispositions2_idx` (`TargetDisposition` ASC),
  INDEX `fk_ApplicationInstances_MoveGroups1_idx` (`MoveGroupID` ASC),
  INDEX `fk_ApplicationInstances_DiscoveryState1_idx` (`DiscoveryStateID` ASC),
  INDEX `fk_ApplicationInstances_MigrationScopes1_idx` (`MigrationScopeID` ASC),
  INDEX `fk_ApplicationInstances_SLAs1_idx` (`CurrentSLAID` ASC),
  INDEX `fk_ApplicationInstances_SLAs2_idx` (`TargetSLAID` ASC),
  INDEX `fk_ApplicationInstances_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ApplicationInstances_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ApplicationInstances_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ApplicationInstances_Applications1`
    FOREIGN KEY (`ApplicationID`)
    REFERENCES `StartupMigrationEngine`.`Applications` (`ApplicationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationInstances_BusinessOwner`
    FOREIGN KEY (`BusinessOwnerID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationInstances_TechnicalOwner`
    FOREIGN KEY (`TechnicalOwnerID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationInstances_Dispositions1`
    FOREIGN KEY (`CurrentDispositionID`)
    REFERENCES `StartupMigrationEngine`.`Dispositions` (`DispositionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationInstances_MoveGroups1`
    FOREIGN KEY (`MoveGroupID`)
    REFERENCES `StartupMigrationEngine`.`MoveGroups` (`MoveGroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationInstances_DiscoveryState1`
    FOREIGN KEY (`DiscoveryStateID`)
    REFERENCES `StartupMigrationEngine`.`DiscoveryState` (`DiscoveryStateID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationInstances_MigrationScopes1`
    FOREIGN KEY (`MigrationScopeID`)
    REFERENCES `StartupMigrationEngine`.`MigrationScopes` (`MigrationScopeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationInstances_SLAs1`
    FOREIGN KEY (`CurrentSLAID`)
    REFERENCES `StartupMigrationEngine`.`SLAs` (`SLAID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationInstances_SLAs2`
    FOREIGN KEY (`TargetSLAID`)
    REFERENCES `StartupMigrationEngine`.`SLAs` (`SLAID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationInstances_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ApplicationInstances_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationInstances_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Environments`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Environments` (
  `EnvironmentID` INT NOT NULL AUTO_INCREMENT,
  `EnvironmentName` VARCHAR(200) NOT NULL,
  `Description` VARCHAR(2000) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`EnvironmentID`),
  INDEX `fk_Environments_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_Environments_CreatedByUser_idx` (`CreatedByUserID` ASC),
    CONSTRAINT `fk_Environments_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_Environments_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`HardwareManufacturers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`HardwareManufacturers` (
  `HardwareManufacturerID` INT NOT NULL AUTO_INCREMENT,
  `HardwareManufacturerName` VARCHAR(200) NOT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`HardwareManufacturerID`),
  INDEX `fk_HardwareManufacturers_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_HardwareManufacturers_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_HardwareManufacturers_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_HardwareManufacturers_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_HardwareManufacturers_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_HardwareManufacturers_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`AssetModels`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`AssetModels` (
  `AssetModelID` INT NOT NULL AUTO_INCREMENT,
  `AssetModelName` VARCHAR(200) NOT NULL,
  `HardwareManufacturerID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`AssetModelID`),
  INDEX `fk_AssetModels_HardwareManufacturers1_idx` (`HardwareManufacturerID` ASC),
  INDEX `fk_AssetModels_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_AssetModels_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_AssetModels_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_AssetModels_HardwareManufacturers1`
    FOREIGN KEY (`HardwareManufacturerID`)
    REFERENCES `StartupMigrationEngine`.`HardwareManufacturers` (`HardwareManufacturerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AssetModels_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_AssetModels_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AssetModels_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Buildings`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Buildings` (
  `BuildingID` INT NOT NULL AUTO_INCREMENT,
  `BuildingName` VARCHAR(100) NOT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`BuildingID`),
  INDEX `fk_Buildings_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_Buildings_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_Buildings_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_Buildings_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_Buildings_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Buildings_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Floors`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Floors` (
  `FloorID` INT NOT NULL AUTO_INCREMENT,
  `FloorName` VARCHAR(100) NOT NULL,
  `BuildingID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`FloorID`),
  INDEX `fk_Floors_Buildings1_idx` (`BuildingID` ASC),
  INDEX `fk_Floors_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_Floors_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_Floors_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_Floors_Buildings1`
    FOREIGN KEY (`BuildingID`)
    REFERENCES `StartupMigrationEngine`.`Buildings` (`BuildingID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Floors_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_Floors_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Floors_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Rooms`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Rooms` (
  `RoomID` INT NOT NULL AUTO_INCREMENT,
  `RoomName` VARCHAR(100) NOT NULL,
  `FloorID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`RoomID`),
  INDEX `fk_Rooms_Floors1_idx` (`FloorID` ASC),
  INDEX `fk_Rooms_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_Rooms_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_Rooms_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_Rooms_Floors1`
    FOREIGN KEY (`FloorID`)
    REFERENCES `StartupMigrationEngine`.`Floors` (`FloorID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Rooms_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_Rooms_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Rooms_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`FloorLocations`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`FloorLocations` (
  `FloorLocationID` INT NOT NULL AUTO_INCREMENT,
  `FloorLocationName` VARCHAR(100) NOT NULL,
  `RoomID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`FloorLocationID`),
  INDEX `fk_FloorLocations_Rooms1_idx` (`RoomID` ASC),
  INDEX `fk_FloorLocations_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_FloorLocations_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_FloorLocations_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_FloorLocations_Rooms1`
    FOREIGN KEY (`RoomID`)
    REFERENCES `StartupMigrationEngine`.`Rooms` (`RoomID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FloorLocations_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_FloorLocations_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FloorLocations_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Racks`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Racks` (
  `RackID` INT NOT NULL AUTO_INCREMENT,
  `RackIdentifier` VARCHAR(200) NOT NULL,
  `FloorLocationID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`RackID`),
  INDEX `fk_Racks_FloorLocations1_idx` (`FloorLocationID` ASC),
  INDEX `fk_Racks_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_Racks_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_Racks_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_Racks_FloorLocations1`
    FOREIGN KEY (`FloorLocationID`)
    REFERENCES `StartupMigrationEngine`.`FloorLocations` (`FloorLocationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
	  CONSTRAINT `fk_Racks_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_Racks_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Racks_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION) 
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`BladeChassis`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`BladeChassis` (
  `BladeChassisID` INT NOT NULL AUTO_INCREMENT,
  `BladeChassisIdentifier` VARCHAR(200) NOT NULL,
  `RackID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`BladeChassisID`),
  INDEX `fk_BladeChassis_Racks1_idx` (`RackID` ASC),
  INDEX `fk_BladeChassis_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_BladeChassis_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_BladeChassis_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_BladeChassis_Racks1`
    FOREIGN KEY (`RackID`)
    REFERENCES `StartupMigrationEngine`.`Racks` (`RackID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_BladeChassis_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_BladeChassis_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_BladeChassis_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION) 
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`PhysicalServers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`PhysicalServers` (
  `PhysicalServerID` INT NOT NULL AUTO_INCREMENT,
  `PhysicalServerIdentifier` VARCHAR(100) NOT NULL,
  `AssetModelID` INT NULL,
  `DiscoveryStateID` INT NULL,
  `MigrationScopeID` INT NULL, 
  `CurrentDispositionID` INT NULL,
  `TargetDisposition` VARCHAR(100) NULL,
  `BladeChassisID` INT NULL,
  `TargetBladeChassisID` INT NULL,
  `RackID` INT NULL,
  `TargetRackID` INT NULL,
  `FloorLocationID` INT NULL,
  `TargetFloorLocationID` INT NULL,
  `MoveGroupID` INT NULL,
  `CustomField1` VARCHAR(200) NULL,
  `CustomField2` VARCHAR(200) NULL,
  `CustomField3` VARCHAR(200) NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`PhysicalServerID`),
  INDEX `fk_PhysicalServer_AssetModels1_idx` (`AssetModelID` ASC),
  INDEX `fk_PhysicalServer_DiscoveryState_idx` (`DiscoveryStateID` ASC),
  INDEX `fk_PhysicalServer_MigrationScopes_idx` (`MigrationScopeID` ASC),
  INDEX `fk_PhysicalServer_Dispositions1_idx` (`CurrentDispositionID` ASC),
  INDEX `fk_PhysicalServer_Dispositions2_idx` (`TargetDisposition` ASC),
  INDEX `fk_PhysicalServer_BladeChassis1_idx` (`BladeChassisID` ASC),
  INDEX `fk_PhysicalServer_FloorLocations1_idx` (`FloorLocationID` ASC),
  INDEX `fk_PhysicalServer_Racks1_idx` (`RackID` ASC),
  INDEX `fk_PhysicalServer_MoveGroups1_idx` (`MoveGroupID` ASC),
  INDEX `fk_PhysicalServer_Racks2_idx` (`TargetRackID` ASC),
  INDEX `fk_PhysicalServer_FloorLocations2_idx` (`TargetFloorLocationID` ASC),
  INDEX `fk_PhysicalServer_BladeChassis2_idx` (`TargetBladeChassisID` ASC),
  INDEX `fk_PhysicalServers_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_PhysicalServers_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_PhysicalServers_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_PhysicalServer_AssetModels1`
    FOREIGN KEY (`AssetModelID`)
    REFERENCES `StartupMigrationEngine`.`AssetModels` (`AssetModelID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PhysicalServer_DiscoveryState`
    FOREIGN KEY (`DiscoveryStateID`)
    REFERENCES `StartupMigrationEngine`.`DiscoveryState` (`DiscoveryStateID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PhysicalServer_MigrationScopes`
    FOREIGN KEY (`MigrationScopeID`)
    REFERENCES `StartupMigrationEngine`.`MigrationScopes` (`MigrationScopeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
	CONSTRAINT `fk_PhysicalServer_Dispositions1`
    FOREIGN KEY (`CurrentDispositionID`)
    REFERENCES `StartupMigrationEngine`.`Dispositions` (`DispositionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PhysicalServer_BladeChassis1`
    FOREIGN KEY (`BladeChassisID`)
    REFERENCES `StartupMigrationEngine`.`BladeChassis` (`BladeChassisID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PhysicalServer_FloorLocations1`
    FOREIGN KEY (`FloorLocationID`)
    REFERENCES `StartupMigrationEngine`.`FloorLocations` (`FloorLocationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PhysicalServer_Racks1`
    FOREIGN KEY (`RackID`)
    REFERENCES `StartupMigrationEngine`.`Racks` (`RackID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PhysicalServer_MoveGroups1`
    FOREIGN KEY (`MoveGroupID`)
    REFERENCES `StartupMigrationEngine`.`MoveGroups` (`MoveGroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PhysicalServer_Racks2`
    FOREIGN KEY (`TargetRackID`)
    REFERENCES `StartupMigrationEngine`.`Racks` (`RackID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PhysicalServer_FloorLocations2`
    FOREIGN KEY (`TargetFloorLocationID`)
    REFERENCES `StartupMigrationEngine`.`FloorLocations` (`FloorLocationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PhysicalServer_BladeChassis2`
    FOREIGN KEY (`TargetBladeChassisID`)
    REFERENCES `StartupMigrationEngine`.`BladeChassis` (`BladeChassisID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PhysicalServers_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_PhysicalServers_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PhysicalServers_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`VMHypervisorTypes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`VMHypervisorTypes` (
  `VMHypervisorTypeID` INT NOT NULL AUTO_INCREMENT,
  `VMHypervisorTypeName` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`VMHypervisorTypeID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`VMFarms`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`VMFarms` (
  `VMFarmID` INT NOT NULL AUTO_INCREMENT,
  `VMFarmName` VARCHAR(200) NOT NULL,
  `VMHypervisorTypeID` INT NULL,
  `PhysicalServerID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`VMFarmID`),
  INDEX `fk_VMFarms_VMHypervisorTypes1_idx` (`VMHypervisorTypeID` ASC),
  INDEX `fk_VMFarms_PhysicalServer1_idx` (`PhysicalServerID` ASC),
  INDEX `fk_VMFarms_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_VMFarms_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_VMFarms_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_VMFarms_VMHypervisorTypes1`
    FOREIGN KEY (`VMHypervisorTypeID`)
    REFERENCES `StartupMigrationEngine`.`VMHypervisorTypes` (`VMHypervisorTypeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_VMFarms_PhysicalServer1`
    FOREIGN KEY (`PhysicalServerID`)
    REFERENCES `StartupMigrationEngine`.`PhysicalServers` (`PhysicalServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_VMFarms_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_VMFarms_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_VMFarms_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Servers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Servers` (
  `ServerID` INT NOT NULL AUTO_INCREMENT,
  `ServerName` VARCHAR(200) NOT NULL,
  `DiscoveryStateID` INT NULL,
  `MigrationScopeID` INT NULL,
  `SupportContactID` INT NULL,
  `OperatingSystemVersionID` INT NULL,
  `PhysicalServerID` INT NULL,
  `TargetPhysicalServerID` INT NULL,
  `CurrentDispositionID` INT NULL,
  `TargetDisposition` VARCHAR(100) NULL,
  `SerialNumber` VARCHAR(100) NULL, 
  `CPUType` VARCHAR(100) NULL, 
  `CPUCount` INT NULL, 
  `CPUSpeed` VARCHAR(100) NULL, 
  `MemoryGB` INT NULL, 
  `FQDN` VARCHAR(100) NULL, 
  `ModelDescription` VARCHAR(200) NULL,
  `VMFarmID` INT NULL,
  `TargetVMFarmID` INT NULL,
  `MoveGroupID` INT NULL,
  `CurrentSLAID` INT NULL,
  `TargetSLAID` INT NULL,
  `Notes` LONGTEXT NULL,
  `CustomField1` VARCHAR(200) NULL,
  `CustomField2` VARCHAR(200) NULL,
  `CustomField3` VARCHAR(200) NULL,
  `ChangeControlDecisionID` INT NULL,
  `ChangeControlNumber` VARCHAR(200) NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ServerID`),
  INDEX `fk_Servers_Users1_idx` (`SupportContactID` ASC),
  INDEX `fk_Servers_PhysicalServer1_idx` (`PhysicalServerID` ASC),
  INDEX `fk_Servers_Dispositions1_idx` (`CurrentDispositionID` ASC),
  INDEX `fk_Servers_Dispositions2_idx` (`TargetDisposition` ASC),
  INDEX `fk_Servers_VMFarms1_idx` (`VMFarmID` ASC),
  INDEX `fk_Servers_DiscoveryState_idx` (`DiscoveryStateID` ASC),
  INDEX `fk_Servers_MigrationScopes_idx` (`MigrationScopeID` ASC),
  INDEX `fk_Servers_MoveGroups1_idx` (`MoveGroupID` ASC),
  INDEX `fk_Servers_VMFarms2_idx` (`TargetVMFarmID` ASC),
  INDEX `fk_Servers_PhysicalServer2_idx` (`TargetPhysicalServerID` ASC),
  INDEX `fk_Servers_SLAs1_idx` (`CurrentSLAID` ASC),
  INDEX `fk_Servers_SLAs2_idx` (`TargetSLAID` ASC),
  INDEX `fk_Servers_OperatingSystemVersions_idx` (`OperatingSystemVersionID` ASC),
  INDEX `fk_Servers_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_Servers_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_Servers_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_Servers_Users1`
    FOREIGN KEY (`SupportContactID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Servers_PhysicalServer1`
    FOREIGN KEY (`PhysicalServerID`)
    REFERENCES `StartupMigrationEngine`.`PhysicalServers` (`PhysicalServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Servers_Dispositions1`
    FOREIGN KEY (`CurrentDispositionID`)
    REFERENCES `StartupMigrationEngine`.`Dispositions` (`DispositionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Servers_VMFarms1`
    FOREIGN KEY (`VMFarmID`)
    REFERENCES `StartupMigrationEngine`.`VMFarms` (`VMFarmID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Servers_DiscoveryState`
    FOREIGN KEY (`DiscoveryStateID`)
    REFERENCES `StartupMigrationEngine`.`DiscoveryState` (`DiscoveryStateID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Servers_MigrationScopes`
    FOREIGN KEY (`MigrationScopeID`)
    REFERENCES `StartupMigrationEngine`.`MigrationScopes` (`MigrationScopeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Servers_MoveGroups1`
    FOREIGN KEY (`MoveGroupID`)
    REFERENCES `StartupMigrationEngine`.`MoveGroups` (`MoveGroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Servers_VMFarms2`
    FOREIGN KEY (`TargetVMFarmID`)
    REFERENCES `StartupMigrationEngine`.`VMFarms` (`VMFarmID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Servers_PhysicalServer2`
    FOREIGN KEY (`TargetPhysicalServerID`)
    REFERENCES `StartupMigrationEngine`.`PhysicalServers` (`PhysicalServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Servers_SLAs1`
    FOREIGN KEY (`CurrentSLAID`)
    REFERENCES `StartupMigrationEngine`.`SLAs` (`SLAID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Servers_SLAs2`
    FOREIGN KEY (`TargetSLAID`)
    REFERENCES `StartupMigrationEngine`.`SLAs` (`SLAID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Servers_OperatingSystemVersions`
    FOREIGN KEY (`OperatingSystemVersionID`)
    REFERENCES `StartupMigrationEngine`.`OperatingSystemVersions` (`OperatingSystemVersionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Servers_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_Servers_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Servers_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ServiceProviders`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ServiceProviders` (
  `ServiceProviderID` INT NOT NULL AUTO_INCREMENT,
  `ServiceProviderName` VARCHAR(100) NOT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ServiceProviderID`),
  INDEX `fk_ServiceProviders_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ServiceProviders_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ServiceProviders_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ServiceProviders_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ServiceProviders_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServiceProviders_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`PaaS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`PaaS` (
  `PaaSID` INT NOT NULL AUTO_INCREMENT,
  `PaaSName` VARCHAR(100) NOT NULL,
  `ServiceProviderID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`PaaSID`),
  INDEX `fk_PaaS_ServiceProvider1_idx` (`ServiceProviderID` ASC),
  INDEX `fk_PaaS_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_PaaS_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_PaaS_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_PaaS_ServiceProvider1`
    FOREIGN KEY (`ServiceProviderID`)
    REFERENCES `StartupMigrationEngine`.`ServiceProviders` (`ServiceProviderID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PaaS_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_PaaS_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PaaS_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ApplicationComponentInstances`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ApplicationComponentInstances` (
  `ApplicationComponentInstanceID` INT NOT NULL AUTO_INCREMENT,
  `ApplicationComponentInstanceName` VARCHAR(100) NULL,
  `ApplicationComponentID` INT NOT NULL,
  `EnvironmentID` INT NULL,
  `ApplicationInstanceID` INT NULL,
  `ServerID` INT NULL,
  `PaaSID` INT NULL,
  `MoveGroupID` INT NULL,
  `TargetServerID` INT NULL,
  `TargetPaaSID` INT NULL,
  `MigrationScopeID` INT NULL,
  `CurrentSLAID` INT NULL,
  `TargetSLAID` INT NULL,
  `CurrentDispositionID` INT NULL,
  `TargetDisposition` VARCHAR(100) NULL,
  `ChangeControlDecisionID` INT NULL,
  `ChangeControlNumber` VARCHAR(200) NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ApplicationComponentInstanceID`),
  INDEX `fk_ApplicationComponentInstances_ApplicationComponents1_idx` (`ApplicationComponentID` ASC),
  INDEX `fk_ApplicationComponentInstances_ApplicationInstances1_idx` (`ApplicationInstanceID` ASC),
  INDEX `fk_ApplicationComponentInstances_Environments1_idx` (`EnvironmentID` ASC),
  INDEX `fk_ApplicationComponentInstances_Servers1_idx` (`ServerID` ASC),
  INDEX `fk_ApplicationComponentInstances_PaaS1_idx` (`PaaSID` ASC),
  INDEX `fk_ApplicationComponentInstances_MoveGroups1_idx` (`MoveGroupID` ASC),
  INDEX `fk_ApplicationComponentInstances_Servers2_idx` (`TargetServerID` ASC),
  INDEX `fk_ApplicationComponentInstances_PaaS2_idx` (`TargetPaaSID` ASC),
  INDEX `fk_ApplicationComponentInstances_MigrationScopes1_idx` (`MigrationScopeID` ASC),
  INDEX `fk_ApplicationComponentInstances_SLAs1_idx` (`CurrentSLAID` ASC),
  INDEX `fk_ApplicationComponentInstances_SLAs2_idx` (`TargetSLAID` ASC),
  INDEX `fk_ApplicationComponentInstances_Dispositions1_idx` (`CurrentDispositionID` ASC),
  INDEX `fk_ApplicationComponentInstances_Dispositions2_idx` (`TargetDisposition` ASC),
  INDEX `fk_ApplicationComponentInstances_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ApplicationComponentInstances_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ApplicationComponentInstances_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ApplicationComponentInstances_ApplicationComponents1`
    FOREIGN KEY (`ApplicationComponentID`)
    REFERENCES `StartupMigrationEngine`.`ApplicationComponents` (`ApplicationComponentID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstances_ApplicationInstances1`
    FOREIGN KEY (`ApplicationInstanceID`)
    REFERENCES `StartupMigrationEngine`.`ApplicationInstances` (`ApplicationInstanceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstances_Environments1`
    FOREIGN KEY (`EnvironmentID`)
    REFERENCES `StartupMigrationEngine`.`Environments` (`EnvironmentID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstances_Servers1`
    FOREIGN KEY (`ServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstances_PaaS1`
    FOREIGN KEY (`PaaSID`)
    REFERENCES `StartupMigrationEngine`.`PaaS` (`PaaSID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstances_MoveGroups1`
    FOREIGN KEY (`MoveGroupID`)
    REFERENCES `StartupMigrationEngine`.`MoveGroups` (`MoveGroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstances_Servers2`
    FOREIGN KEY (`TargetServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstances_PaaS2`
    FOREIGN KEY (`TargetPaaSID`)
    REFERENCES `StartupMigrationEngine`.`PaaS` (`PaaSID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstances_MigrationScopes1`
    FOREIGN KEY (`MigrationScopeID`)
    REFERENCES `StartupMigrationEngine`.`MigrationScopes` (`MigrationScopeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstances_SLAs1`
    FOREIGN KEY (`CurrentSLAID`)
    REFERENCES `StartupMigrationEngine`.`SLAs` (`SLAID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstances_SLAs2`
    FOREIGN KEY (`TargetSLAID`)
    REFERENCES `StartupMigrationEngine`.`SLAs` (`SLAID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstances_Dispositions1`
    FOREIGN KEY (`CurrentDispositionID`)
    REFERENCES `StartupMigrationEngine`.`Dispositions` (`DispositionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstances_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ApplicationComponentInstances_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstances_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`SaaSApplication`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`SaaSApplication` (
  `SaaSApplicationID` INT NOT NULL AUTO_INCREMENT,
  `ApplicationID` INT NOT NULL,
  `ServiceProviderID` INT,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`SaaSApplicationID`),
  INDEX `fk_SaaSApplication_Applications1_idx` (`ApplicationID` ASC),
  INDEX `fk_SaaSApplication_ServiceProvider1_idx` (`ServiceProviderID` ASC),
  INDEX `fk_SaaSApplication_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_SaaSApplication_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_SaaSApplication_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_SaaSApplication_Applications1`
    FOREIGN KEY (`ApplicationID`)
    REFERENCES `StartupMigrationEngine`.`Applications` (`ApplicationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SaaSApplication_ServiceProvider1`
    FOREIGN KEY (`ServiceProviderID`)
    REFERENCES `StartupMigrationEngine`.`ServiceProviders` (`ServiceProviderID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SaaSApplication_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_SaaSApplication_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SaaSApplication_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ApptoAppDependencies`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ApptoAppDependencies` (
  `AppToAppDependencieID` INT NOT NULL AUTO_INCREMENT,
  `ApplicationID` INT NOT NULL,
  `DependentApplicationID` INT NOT NULL,
  `DependencyDescription` LONGTEXT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`AppToAppDependencieID`),
  INDEX `fk_ApptoAppDependencies_Applications1_idx` (`ApplicationID` ASC),
  INDEX `fk_ApptoAppDependencies_Applications2_idx` (`DependentApplicationID` ASC),
  INDEX `fk_ApptoAppDependencies_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ApptoAppDependencies_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ApptoAppDependencies_CreatedByUser_idx` (`CreatedByUserID` ASC), 
  CONSTRAINT `fk_ApptoAppDependencies_Applications1`
    FOREIGN KEY (`ApplicationID`)
    REFERENCES `StartupMigrationEngine`.`Applications` (`ApplicationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApptoAppDependencies_Applications2`
    FOREIGN KEY (`DependentApplicationID`)
    REFERENCES `StartupMigrationEngine`.`Applications` (`ApplicationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApptoAppDependencies_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ApptoAppDependencies_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApptoAppDependencies_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ChangeFreezes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ChangeFreezes` (
  `ChangeFreezeID` INT NOT NULL AUTO_INCREMENT,
  `ChangeFreezeName` VARCHAR(100) NOT NULL,
  `StartDateTime` TIMESTAMP NULL,
  `EndDateTime` TIMESTAMP NULL,
  `Notes` VARCHAR(2000) NULL,
  `ApplyToAllServers` CHAR(1) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ChangeFreezeID`),
  INDEX `fk_ChangeFreezes_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ChangeFreezes_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ChangeFreezes_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ChangeFreezes_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
 ) ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ApplicationChangeFreezes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ApplicationChangeFreezes` (
  `ApplicationChangeFreezeID` INT NOT NULL AUTO_INCREMENT,
  `ApplicationID` INT NOT NULL,
  `ChangeFreezeID` INT NOT NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ApplicationChangeFreezeID`),
  INDEX `fk_ApplicationChangeFreezes_Applications1_idx` (`ApplicationID` ASC),
  INDEX `fk_ApplicationChangeFreezes_ChangeFreezes1_idx` (`ChangeFreezeID` ASC),
  INDEX `fk_ApplicationChangeFreezes_CreatedByUser_idx` (`CreatedByUserID` ASC),
  INDEX `fk_ApplicationChangeFreezes_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  CONSTRAINT `fk_ApplicationChangeFreezes_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ApplicationChangeFreezes_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationChangeFreezes_Applications1`
    FOREIGN KEY (`ApplicationID`)
    REFERENCES `StartupMigrationEngine`.`Applications` (`ApplicationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationChangeFreezes_ChangeFreezes1`
    FOREIGN KEY (`ChangeFreezeID`)
    REFERENCES `StartupMigrationEngine`.`ChangeFreezes` (`ChangeFreezeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`SoftwareManufacturers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`SoftwareManufacturers` (
  `SoftwareManufacturerID` INT NOT NULL AUTO_INCREMENT,
  `SoftwareManufacturerName` VARCHAR(100) NOT NULL,
  `ContactDetails` VARCHAR(1000) NULL,
  `PreferredSupplier` CHAR(1) NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`SoftwareManufacturerID`),
  INDEX `fk_SoftwareManufacturers_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_SoftwareManufacturers_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_SoftwareManufacturers_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_SoftwareManufacturers_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_SoftwareManufacturers_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SoftwareManufacturers_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Software`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Software` (
  `SoftwareID` INT NOT NULL AUTO_INCREMENT,
  `SoftwareName` VARCHAR(100) NOT NULL,
  `SoftwareManufacturerID` INT NULL,
  `SMEDetails` VARCHAR(1000) NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`SoftwareID`),
  INDEX `fk_Software_SoftwareManufacturers1_idx` (`SoftwareManufacturerID` ASC),
  INDEX `fk_Software_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_Software_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_Software_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_Software_SoftwareManufacturers1`
    FOREIGN KEY (`SoftwareManufacturerID`)
    REFERENCES `StartupMigrationEngine`.`SoftwareManufacturers` (`SoftwareManufacturerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Software_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_Software_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Software_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`SupportStatus`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`SupportStatus` (
  `SupportStatusID` INT NOT NULL AUTO_INCREMENT,
  `SupportStatusName` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`SupportStatusID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`SoftwareVersions`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`SoftwareVersions` (
  `SoftwareVersionID` INT NOT NULL AUTO_INCREMENT,
  `SoftwareVersionName` VARCHAR(100) NOT NULL,
  `SoftwareID` INT NULL,
  `VersionOrderNumber` INT NULL,
  `SupportStatusID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`SoftwareVersionID`),
  INDEX `fk_SoftwareVersions_Software1_idx` (`SoftwareID` ASC),
  INDEX `fk_SoftwareVersions_SupportStatus1_idx` (`SupportStatusID` ASC),
  INDEX `fk_SoftwareVersions_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_SoftwareVersions_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_SoftwareVersions_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_SoftwareVersions_Software1`
    FOREIGN KEY (`SoftwareID`)
    REFERENCES `StartupMigrationEngine`.`Software` (`SoftwareID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SoftwareVersions_SupportStatus1`
    FOREIGN KEY (`SupportStatusID`)
    REFERENCES `StartupMigrationEngine`.`SupportStatus` (`SupportStatusID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SoftwareVersions_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_SoftwareVersions_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SoftwareVersions_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ServerInstalledSoftware`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ServerInstalledSoftware` (
  `ServerInstalledSoftwareID` INT NOT NULL AUTO_INCREMENT,
  `ServerID` INT NOT NULL,
  `SoftwareVersionID` INT NOT NULL,
  `Notes` VARCHAR(2000) NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ServerInstalledSoftwareID`),
  INDEX `fk_ServerInstalledSoftware_Servers1_idx` (`ServerID` ASC),
  INDEX `fk_ServerInstalledSoftware_SoftwareVersions1_idx` (`SoftwareVersionID` ASC),
  INDEX `fk_ServerInstalledSoftware_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ServerInstalledSoftware_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ServerInstalledSoftware_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ServerInstalledSoftware_Servers1`
    FOREIGN KEY (`ServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerInstalledSoftware_SoftwareVersions1`
    FOREIGN KEY (`SoftwareVersionID`)
    REFERENCES `StartupMigrationEngine`.`SoftwareVersions` (`SoftwareVersionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerInstalledSoftware_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ServerInstalledSoftware_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerInstalledSoftware_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ApplicationComponentSoftwareRequirements`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ApplicationComponentSoftwareRequirements` (
  `ApplicationComponentSoftwareRequirementID` INT NOT NULL AUTO_INCREMENT,
  `ApplicationComnponentID` INT NOT NULL,
  `SoftwareVersionID` INT NOT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ApplicationComponentSoftwareRequirementID`),
  INDEX `fk_AppComponentSoftwareRequirements_ApplicationComp_idx` (`ApplicationComnponentID` ASC),
  INDEX `fk_AppComponentSoftwareRequirements_SoftwareVersion_idx` (`SoftwareVersionID` ASC),
  INDEX `fk_AppComponentSoftwareRequirements_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_AppComponentSoftwareRequirements_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_AppComponentSoftwareRequirements_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_AppComponentSoftwareRequirements_ApplicationCompon1`
    FOREIGN KEY (`ApplicationComnponentID`)
    REFERENCES `StartupMigrationEngine`.`ApplicationComponents` (`ApplicationComponentID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AppComponentSoftwareRequirements_SoftwareVersions1`
    FOREIGN KEY (`SoftwareVersionID`)
    REFERENCES `StartupMigrationEngine`.`SoftwareVersions` (`SoftwareVersionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AppComponentSoftwareRequirements_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_AppComponentSoftwareRequirements_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AppComponentSoftwareRequirements_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`GeographicLocations`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`GeographicLocations` (
  `GeographicLocationID` INT NOT NULL AUTO_INCREMENT,
  `GeographicLocationName` VARCHAR(100) NOT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`GeographicLocationID`),
  INDEX `fk_GeographicLocations_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_GeographicLocations_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_GeographicLocations_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_GeographicLocations_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_GeographicLocations_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_GeographicLocations_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ApplicationUserLocations`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ApplicationUserLocations` (
  `ApplicationUserLocationID` INT NOT NULL AUTO_INCREMENT,
  `ApplicationID` INT NOT NULL,
  `GeographicLocationID` INT NOT NULL,
  `UserCount` INT NULL,
  `Notes` VARCHAR(1000) NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ApplicationUserLocationID`),
  INDEX `fk_ApplicationUserLocations_Applications1_idx` (`ApplicationID` ASC),
  INDEX `fk_ApplicationUserLocations_GeographicLocations1_idx` (`GeographicLocationID` ASC),
  INDEX `fk_ApplicationUserLocations_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ApplicationUserLocations_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ApplicationUserLocations_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ApplicationUserLocations_Applications1`
    FOREIGN KEY (`ApplicationID`)
    REFERENCES `StartupMigrationEngine`.`Applications` (`ApplicationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationUserLocations_GeographicLocations1`
    FOREIGN KEY (`GeographicLocationID`)
    REFERENCES `StartupMigrationEngine`.`GeographicLocations` (`GeographicLocationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationUserLocations_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ApplicationUserLocations_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationUserLocations_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)	
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ApplicationDataRestrictions`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ApplicationDataRestrictions` (
  `ApplicationRestrictionID` INT NOT NULL AUTO_INCREMENT,
  `ApplicationID` INT NOT NULL,
  `GeographicLocationID` INT NOT NULL,
  `LocationMandatory` CHAR(1) NULL,
  `LocationOptional` CHAR(1) NULL,
  `LocationForbidden` CHAR(1) NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ApplicationRestrictionID`),
  INDEX `fk_ApplicationDataRestrictions_Applications1_idx` (`ApplicationID` ASC),
  INDEX `fk_ApplicationDataRestrictions_GeographicLocations1_idx` (`GeographicLocationID` ASC),
  INDEX `fk_ApplicationDataRestrictions_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ApplicationDataRestrictions_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ApplicationDataRestrictions_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ApplicationDataRestrictions_Applications1`
    FOREIGN KEY (`ApplicationID`)
    REFERENCES `StartupMigrationEngine`.`Applications` (`ApplicationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationDataRestrictions_GeographicLocations1`
    FOREIGN KEY (`GeographicLocationID`)
    REFERENCES `StartupMigrationEngine`.`GeographicLocations` (`GeographicLocationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationDataRestrictions_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ApplicationDataRestrictions_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationDataRestrictions_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Recurrances`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Recurrances` (
  `RecurranceID` INT NOT NULL AUTO_INCREMENT,
  `RecurranceName` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`RecurranceID`))
ENGINE = InnoDB
COMMENT = 'Time recurrences such as daily, monthly, weekly, yearly or quarterly.';


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`LogicalDataLinks`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`LogicalDataLinks` (
  `LogicalDataLinkID` INT NOT NULL AUTO_INCREMENT,
  `SourceApplicationComponentID` INT NOT NULL,
  `TargetApplicationComponentID` INT NOT NULL,
  `SourceConfigurationRequired` CHAR(1) NULL COMMENT 'This will tell us where changes need to be made.',
  `TargetConfigurationRequired` CHAR(1) NULL,
  `SoureConfigDetails` VARCHAR(2000) NULL,
  `TargetConfigDetails` VARCHAR(2000) NULL,
  `FirewallChangesRequired` CHAR(1) NULL,
  `FirewallChanges` VARCHAR(2000) NULL,
  `SourceAndTargetMoveTogether` CHAR(1) NULL,
  `ProtocolID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`LogicalDataLinkID`),
  INDEX `fk_LogicalDataLinks_ApplicationComponentsSource_idx` (`SourceApplicationComponentID` ASC),
  INDEX `fk_LogicalDataLinks_ApplicationComponentsTarget_idx` (`TargetApplicationComponentID` ASC),
  INDEX `fk_LogicalDataLinks_Protocols_idx` (`ProtocolID` ASC),
  INDEX `fk_LogicalDataLinks_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_LogicalDataLinks_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_LogicalDataLinks_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_LogicalDataLinks_ApplicationComponentsSource`
    FOREIGN KEY (`SourceApplicationComponentID`)
    REFERENCES `StartupMigrationEngine`.`ApplicationComponents` (`ApplicationComponentID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_LogicalDataLinks_ApplicationComponentsTarget`
    FOREIGN KEY (`TargetApplicationComponentID`)
    REFERENCES `StartupMigrationEngine`.`ApplicationComponents` (`ApplicationComponentID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_LogicalDataLinks_Protocols`
	FOREIGN KEY (`ProtocolID`)
	REFERENCES `StartupMigrationEngine`.`Protocols` (`ProtocolID`)
	ON DELETE NO ACTION
	ON UPDATE NO ACTION,
  CONSTRAINT `fk_LogicalDataLinks_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_LogicalDataLinks_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_LogicalDataLinks_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Protocols`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Protocols` (
  `ProtocolID` INT NOT NULL AUTO_INCREMENT,
  `ProtocolName` VARCHAR(100) NOT NULL,
  `PortNumber` INT NOT NULL,
  `TCP` CHAR(1) NULL,
  `UDP` CHAR(1) NULL,
  `SCTP` CHAR(1) NULL,
  `Description` VARCHAR(1000) NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ProtocolID`),
  INDEX `fk_Protocols_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_Protocols_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_Protocols_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_Protocols_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_Protocols_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Protocols_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`LogicalDataLinkMaintenanceWindows`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`LogicalDataLinkMaintenanceWindows` (
  `LogicalDataLinkMaintenaceWindowID` INT NOT NULL AUTO_INCREMENT,
  `LogicalDataLinkID` INT NOT NULL,
  `StartTime` TIMESTAMP NOT NULL,
  `Duration` INT NOT NULL,
  `RecurranceID` INT NULL,
  `ContactDetails` VARCHAR(1000) NULL,
  `Description` VARCHAR(2000) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`LogicalDataLinkMaintenaceWindowID`),
  INDEX `fk_LogicalDataLinkMaintenanceWindows_Recurrances1_idx` (`RecurranceID` ASC),
  INDEX `fk_LogicalDataLinkMaintenanceWindows_LogicalDataLinks1_idx` (`LogicalDataLinkID` ASC),
  INDEX `fk_LogicalDataLinkMaintenanceWindows_CreatedByUser_idx` (`CreatedByUserID` ASC),
  INDEX `fk_LogicalDataLinkMaintenanceWindows_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  CONSTRAINT `fk_LogicalDataLinkMaintenanceWindows_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_LogicalDataLinkMaintenanceWindows_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_LogicalDataLinkMaintenanceWindows_Recurrances1`
    FOREIGN KEY (`RecurranceID`)
    REFERENCES `StartupMigrationEngine`.`Recurrances` (`RecurranceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_LogicalDataLinkMaintenanceWindows_LogicalDataLinks1`
    FOREIGN KEY (`LogicalDataLinkID`)
    REFERENCES `StartupMigrationEngine`.`LogicalDataLinks` (`LogicalDataLinkID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------------------------------------
-- Table `StartupMigrationEngine`.`ApplicationComponentInstanceMaintenanceOperations`
-- -----------------------------------------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ApplicationComponentInstanceMaintenanceOperations` (
  `ApplicationComponentInstanceMaintenanceOperationID` INT NOT NULL AUTO_INCREMENT,
  `ApplicationComponentInstanceID` INT NOT NULL,
  `Description` VARCHAR(2000) NULL,
  `StartTime` TIMESTAMP NULL,
  `Duration` INT NULL,
  `RecurranceID` INT NULL,
  `ContactDetails` VARCHAR(1000) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ApplicationComponentInstanceMaintenanceOperationID`),
  INDEX `fk_AppComponentInsMaintenanceOperations_Applic_idx` (`ApplicationComponentInstanceID` ASC),
  INDEX `fk_AppComponentInsMaintenanceOperations_Recurr_idx` (`RecurranceID` ASC),
  INDEX `fk_AppComponentInsMaintenanceOperations_CreatedByUser_idx` (`CreatedByUserID` ASC),
  INDEX `fk_AppComponentInsMaintenanceOperations_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  CONSTRAINT `fk_AppComponentInsMaintenanceOperations_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_AppComponentInsMaintenanceOperations_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AppComponentInsMaintenanceOperations_Applicat1`
    FOREIGN KEY (`ApplicationComponentInstanceID`)
    REFERENCES `StartupMigrationEngine`.`ApplicationComponentInstances` (`ApplicationComponentInstanceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AppComponentInsMaintenanceOperations_Recurran1`
    FOREIGN KEY (`RecurranceID`)
    REFERENCES `StartupMigrationEngine`.`Recurrances` (`RecurranceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- ---------------------------------------------------------------
-- Table `StartupMigrationEngine`.`ServerMaintenanceOperations`
-- --------------------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ServerMaintenanceOperations` (
  `ServerMaintenanceOperationID` INT NOT NULL AUTO_INCREMENT,
  `ServerID` INT NOT NULL,
  `ContactDetails` VARCHAR(1000) NULL,
  `Description` VARCHAR(2000) NULL,
  `StartTime` TIMESTAMP NULL,
  `Duration` INT NULL,
  `RecurranceID` INT NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ServerMaintenanceOperationID`),
  INDEX `fk_ServerMaintenanceOperations_Servers1_idx` (`ServerID` ASC),
  INDEX `fk_ServerMaintenanceOperations_Recurrances1_idx` (`RecurranceID` ASC),
  INDEX `fk_ServerMaintenanceOperations_CreatedByUser_idx` (`CreatedByUserID` ASC),
  INDEX `fk_ServerMaintenanceOperations_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  CONSTRAINT `fk_ServerMaintenanceOperations_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ServerMaintenanceOperations_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerMaintenanceOperations_Servers1`
    FOREIGN KEY (`ServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerMaintenanceOperations_Recurrances1`
    FOREIGN KEY (`RecurranceID`)
    REFERENCES `StartupMigrationEngine`.`Recurrances` (`RecurranceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Roles`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Roles` (
  `RoleID` INT NOT NULL AUTO_INCREMENT,
  `RoleName` VARCHAR(100) NOT NULL,
  `Description` VARCHAR(200) NOT NULL,
  PRIMARY KEY (`RoleID`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TaskTemplates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TaskTemplates` (
  `TaskTemplateID` INT NOT NULL AUTO_INCREMENT,
  `TaskName` VARCHAR(200) NOT NULL,
  `Description` VARCHAR(1000) NULL,
  `MigrationOffset` INT NULL,
  `BusinessServiceLevel` BIT(1) NOT NULL DEFAULT 0,
  `ApplicationLevel` BIT(1) NOT NULL DEFAULT 0,
  `ApplicationInstanceLevel` BIT(1) NOT NULL DEFAULT 0,
  `ApplicationComponentLevel` BIT(1) NOT NULL DEFAULT 0,
  `ApplicationComponentInstanceLevel` BIT(1) NOT NULL DEFAULT 0,
  `ServerLevel` BIT(1) NOT NULL DEFAULT 0,
  `AssetLevel` BIT(1) NOT NULL DEFAULT 0, 
  `OperationalServiceLevel` BIT(1) NOT NULL DEFAULT 0,
  `CurrentPaasLevel` BIT(1) NOT NULL DEFAULT 0,
  `TargetPaasLevel` BIT(1) NOT NULL DEFAULT 0,
  `CurrentServerLevel` BIT(1) NOT NULL DEFAULT 0,
  `TargetServerLevel` BIT(1) NOT NULL DEFAULT 0,
  `CurrentVmFarmLevel` BIT(1) NOT NULL DEFAULT 0,
  `TargetVmFarmLevel` BIT(1) NOT NULL DEFAULT 0,
  `CurrentPhysicalServerLevel` BIT(1) NOT NULL DEFAULT 0,
  `TargetPhysicalServerLevel` BIT(1) NOT NULL DEFAULT 0,
  `MoveGroupLevel` BIT(1) NOT NULL DEFAULT 0,
  `NetworkDeviceLevel` BIT(1) NOT NULL DEFAULT 0,
  `StorageServiceLevel` BIT(1) NOT NULL DEFAULT 0,
  `OtherHardwareLevel` BIT(1) NOT NULL DEFAULT 0,
  `PhysicalServerLevel` BIT(1) NOT NULL DEFAULT 0,
  PRIMARY KEY (`TaskTemplateID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TaskTemplateRoles`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TaskTemplateRoles` (
  `TaskTemplateRoleID` INT NOT NULL AUTO_INCREMENT,
  `TaskTemplateID` INT NOT NULL,
  `RoleID` INT NOT NULL,
  `IsResponsible` BIT(1) NULL,
  `IsInformed` BIT(1) NULL,
  `Notes` VARCHAR(2000) NULL,
  PRIMARY KEY (`TaskTemplateRoleID`),
  INDEX `fk_TaskTemplateRoles_TaskTemplates1_idx` (`TaskTemplateID` ASC),
  INDEX `fk_TaskTemplateRoles_Roles1_idx` (`RoleID` ASC),
  CONSTRAINT `fk_TaskTemplateRoles_TaskTemplates1`
    FOREIGN KEY (`TaskTemplateID`)
    REFERENCES `StartupMigrationEngine`.`TaskTemplates` (`TaskTemplateID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskTemplateRoles_Roles1`
    FOREIGN KEY (`RoleID`)
    REFERENCES `StartupMigrationEngine`.`Roles` (`RoleID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TaskTemplateUsers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TaskTemplateUsers` (
  `TaskTemplateUserID` INT NOT NULL AUTO_INCREMENT,
  `TaskTemplateID` INT NOT NULL,
  `UserID` INT NOT NULL,
  `IsResponsible` BIT(1) NULL,
  `IsInformed` BIT(1) NULL,
  `Notes` VARCHAR(2000) NULL,
  PRIMARY KEY (`TaskTemplateUserID`),
  INDEX `fk_TaskTemplateUsers_TaskTemplates1_idx` (`TaskTemplateID` ASC),
  INDEX `fk_TaskTemplateUsers_Users1_idx` (`UserID` ASC),
  CONSTRAINT `fk_TaskTemplateUsers_TaskTemplates1`
    FOREIGN KEY (`TaskTemplateID`)
    REFERENCES `StartupMigrationEngine`.`TaskTemplates` (`TaskTemplateID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskTemplateUsers_Users1`
    FOREIGN KEY (`UserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TaskTemplateDependencies`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TaskTemplateDependencies` (
  `TaskTemplateDependencyID` INT NOT NULL AUTO_INCREMENT,
  `TaskTemplateID` INT NOT NULL,
  `DependentTaskTemplateID` INT NOT NULL,
  `Notes` VARCHAR(2000) NULL,
  PRIMARY KEY (`TaskTemplateDependencyID`),
  INDEX `fk_TaskTemplateDependencies_TaskTemplates1_idx` (`TaskTemplateID` ASC),
  INDEX `fk_TaskTemplateDependencies_TaskTemplates2_idx` (`DependentTaskTemplateID` ASC),
  CONSTRAINT `fk_TaskTemplateDependencies_TaskTemplates1`
    FOREIGN KEY (`TaskTemplateID`)
    REFERENCES `StartupMigrationEngine`.`TaskTemplates` (`TaskTemplateID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskTemplateDependencies_TaskTemplates2`
    FOREIGN KEY (`DependentTaskTemplateID`)
    REFERENCES `StartupMigrationEngine`.`TaskTemplates` (`TaskTemplateID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`MigrationMethods`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`MigrationMethods` (
  `MigrationMethodID` INT NOT NULL AUTO_INCREMENT,
  `MigrationMethodName` VARCHAR(200) NOT NULL,
  `Description` VARCHAR(45) NULL,
  PRIMARY KEY (`MigrationMethodID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`MigrationMethodTaskTemplates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`MigrationMethodTaskTemplates` (
  `MigrationMethodTaskTemplateID` INT NOT NULL AUTO_INCREMENT,
  `MigrationMethodID` INT NOT NULL,
  `TaskTemplateID` INT NOT NULL,
  `Notes` VARCHAR(2000) NULL,
  PRIMARY KEY (`MigrationMethodTaskTemplateID`),
  INDEX `fk_MigrationMethodTaskTemplates_MigrationMethods1_idx` (`MigrationMethodID` ASC),
  INDEX `fk_MigrationMethodTaskTemplates_TaskTemplates1_idx` (`TaskTemplateID` ASC),
  CONSTRAINT `fk_MigrationMethodTaskTemplates_MigrationMethods1`
    FOREIGN KEY (`MigrationMethodID`)
    REFERENCES `StartupMigrationEngine`.`MigrationMethods` (`MigrationMethodID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_MigrationMethodTaskTemplates_TaskTemplates1`
    FOREIGN KEY (`TaskTemplateID`)
    REFERENCES `StartupMigrationEngine`.`TaskTemplates` (`TaskTemplateID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TransformationMethods`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TransformationMethods` (
  `TransformationMethodID` INT NOT NULL AUTO_INCREMENT,
  `TransformationMethodName` VARCHAR(200) NOT NULL,
  `Description` VARCHAR(2000) NULL,
  PRIMARY KEY (`TransformationMethodID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TransformationMethodTaskTemplates`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TransformationMethodTaskTemplates` (
  `TransformationMethodTaskTemplateID` INT NOT NULL AUTO_INCREMENT,
  `TranformationMethodID` INT NOT NULL,
  `TaskTemplateID` INT NOT NULL,
  `Notes` VARCHAR(2000) NULL,
  PRIMARY KEY (`TransformationMethodTaskTemplateID`),
  INDEX `fk_TransformationMethodTaskTemplates_TransformationMethods1_idx` (`TranformationMethodID` ASC),
  INDEX `fk_TransformationMethodTaskTemplates_TaskTemplates1_idx` (`TaskTemplateID` ASC),
  CONSTRAINT `fk_TransformationMethodTaskTemplates_TransformationMethods1`
    FOREIGN KEY (`TranformationMethodID`)
    REFERENCES `StartupMigrationEngine`.`TransformationMethods` (`TransformationMethodID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TransformationMethodTaskTemplates_TaskTemplates1`
    FOREIGN KEY (`TaskTemplateID`)
    REFERENCES `StartupMigrationEngine`.`TaskTemplates` (`TaskTemplateID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`OperationalServices`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`OperationalServices` (
  `OperationalServiceID` INT NOT NULL AUTO_INCREMENT,
  `OperationalServiceName` VARCHAR(200) NOT NULL,
  `Description` VARCHAR(2000) NULL,
  `IsMigrating` CHAR(1) NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`OperationalServiceID`),
  INDEX `fk_OperationalServices_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_OperationalServices_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_OperationalServices_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_OperationalServices_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_OperationalServices_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OperationalServices_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TaskTracking`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TaskTracking` (
  `TaskTrackingID` INT NOT NULL AUTO_INCREMENT COMMENT 'If there is no template ID, it is an AdHoc task created',
  `TemplateTaskID` INT NULL,
  `BusinessServiceID` INT NULL,
  `ApplicationID` INT NULL,
  `ApplicationInstanceID` INT NULL,
  `ApplicationComponentID` INT NULL,
  `ApplicationComponentInstanceID` INT NULL,
  `ServerID` INT NULL,
  `OperationalServiceID` INT NULL,
  `DueDate` DATE NULL,
  `Notes` VARCHAR(2000) NULL,
  PRIMARY KEY (`TaskTrackingID`),
  INDEX `fk_TaskTracking_TaskTemplates1_idx` (`TemplateTaskID` ASC),
  INDEX `fk_TaskTracking_BusinessServices1_idx` (`BusinessServiceID` ASC),
  INDEX `fk_TaskTracking_Applications1_idx` (`ApplicationID` ASC),
  INDEX `fk_TaskTracking_ApplicationInstances1_idx` (`ApplicationInstanceID` ASC),
  INDEX `fk_TaskTracking_ApplicationComponents1_idx` (`ApplicationComponentID` ASC),
  INDEX `fk_TaskTracking_ApplicationComponentInstances1_idx` (`ApplicationComponentInstanceID` ASC),
  INDEX `fk_TaskTracking_Servers1_idx` (`ServerID` ASC),
  INDEX `fk_TaskTracking_OperationalServices1_idx` (`OperationalServiceID` ASC),
  CONSTRAINT `fk_TaskTracking_TaskTemplates1`
    FOREIGN KEY (`TemplateTaskID`)
    REFERENCES `StartupMigrationEngine`.`TaskTemplates` (`TaskTemplateID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskTracking_BusinessServices1`
    FOREIGN KEY (`BusinessServiceID`)
    REFERENCES `StartupMigrationEngine`.`BusinessServices` (`BusinessServiceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskTracking_Applications1`
    FOREIGN KEY (`ApplicationID`)
    REFERENCES `StartupMigrationEngine`.`Applications` (`ApplicationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskTracking_ApplicationInstances1`
    FOREIGN KEY (`ApplicationInstanceID`)
    REFERENCES `StartupMigrationEngine`.`ApplicationInstances` (`ApplicationInstanceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskTracking_ApplicationComponents1`
    FOREIGN KEY (`ApplicationComponentID`)
    REFERENCES `StartupMigrationEngine`.`ApplicationComponents` (`ApplicationComponentID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskTracking_ApplicationComponentInstances1`
    FOREIGN KEY (`ApplicationComponentInstanceID`)
    REFERENCES `StartupMigrationEngine`.`ApplicationComponentInstances` (`ApplicationComponentInstanceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskTracking_Servers1`
    FOREIGN KEY (`ServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskTracking_OperationalServices1`
    FOREIGN KEY (`OperationalServiceID`)
    REFERENCES `StartupMigrationEngine`.`OperationalServices` (`OperationalServiceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TaskTrackingStatus`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TaskTrackingStatus` (
  `TaskTrackingStatusID` INT NOT NULL AUTO_INCREMENT,
  `TaskTrackingStatusName` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`TaskTrackingStatusID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TaskTrackingStatusUsers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TaskTrackingStatusUsers` (
  `TaskTrackingStatusUserID` INT NOT NULL AUTO_INCREMENT,
  `TaskTrackingID` INT NOT NULL,
  `UserID` INT NOT NULL,
  `TaskTrackingStatusID` INT NULL,
  `Notes` VARCHAR(2000) NULL DEFAULT 'I',
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`TaskTrackingStatusUserID`),
  INDEX `fk_TaskTrackingUsers_TaskTracking1_idx` (`TaskTrackingID` ASC),
  INDEX `fk_TaskTrackingUsers_Users1_idx` (`UserID` ASC),
  INDEX `fk_TaskTrackingUsers_TaskTrackingStatus1_idx` (`TaskTrackingStatusID` ASC),
  CONSTRAINT `fk_TaskTrackingUsers_TaskTracking1`
    FOREIGN KEY (`TaskTrackingID`)
    REFERENCES `StartupMigrationEngine`.`TaskTracking` (`TaskTrackingID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskTrackingUsers_Users1`
    FOREIGN KEY (`UserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskTrackingUsers_TaskTrackingStatus1`
    FOREIGN KEY (`TaskTrackingStatusID`)
    REFERENCES `StartupMigrationEngine`.`TaskTrackingStatus` (`TaskTrackingStatusID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`NetworkDeviceTypes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`NetworkDeviceTypes` (
  `NetworkDeviceTypeID` INT NOT NULL AUTO_INCREMENT,
  `NetworkDeviceTypeName` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`NetworkDeviceTypeID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`NetworkDevices`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`NetworkDevices` (
  `NetworkDeviceID` INT NOT NULL AUTO_INCREMENT,
  `NetworkDeviceName` VARCHAR(100) NOT NULL,
  `IPAddress` VARCHAR(100) NULL,
  `NetworkDeviceTypeID` INT NULL,
  `DiscoveryStateID` INT NULL,
  `MigrationScopeID` INT NULL,
  `CurrentDispositionID` INT NULL,
  `TargetDisposition` VARCHAR(100) NULL,
  `MoveGroupID` INT NULL,
  `CurrentSLAID` INT NULL,
  `TargetSLAID` INT NULL,
  `RackID` INT NULL,
  `TargetRackID` INT NULL,
  `FloorLocationID` INT NULL,
  `TargetFloorLocationID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`NetworkDeviceID`),
  INDEX `fk_NetworkDevices_NetworkDeviceTypes1_idx` (`NetworkDeviceTypeID` ASC),
  INDEX `fk_NetworkDevices_DiscoveryState_idx_idx` (`DiscoveryStateID` ASC),
  INDEX `fk_NetworkDevices_MigrationScopes_idx_idx` (`MigrationScopeID` ASC),
  INDEX `fk_NetworkDevices_Dispositions1_idx` (`CurrentDispositionID` ASC),
  INDEX `fk_NetworkDevices_Dispositions2_idx` (`TargetDisposition` ASC),
  INDEX `fk_NetworkDevices_MoveGroups_idx` (`MoveGroupID` ASC),
  INDEX `fk_NetworkDevices_SLAs1_idx` (`CurrentSLAID` ASC),
  INDEX `fk_NetworkDevices_SLAs2_idx` (`TargetSLAID` ASC),
  INDEX `fk_NetworkDevices_FloorLocations1_idx` (`FloorLocationID` ASC),
  INDEX `fk_NetworkDevices_FloorLocations2_idx` (`TargetFloorLocationID` ASC),
  INDEX `fk_NetworkDevices_Racks1_idx` (`RackID` ASC),
  INDEX `fk_NetworkDevices_Racks2_idx` (`TargetRackID` ASC),
  INDEX `fk_NetworkDevices_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_NetworkDevices_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_NetworkDevices_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_NetworkDevices_NetworkDeviceTypes1`
    FOREIGN KEY (`NetworkDeviceTypeID`)
    REFERENCES `StartupMigrationEngine`.`NetworkDeviceTypes` (`NetworkDeviceTypeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDevices_DiscoveryState`
	FOREIGN KEY (`DiscoveryStateID`)
	REFERENCES `StartupMigrationEngine`.`DiscoveryState` (`DiscoveryStateID`)
	ON DELETE NO ACTION
	ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDevices_MigrationScopes`
	FOREIGN KEY (`MigrationScopeID`)
	REFERENCES `StartupMigrationEngine`.`MigrationScopes` (`MigrationScopeID`)
	ON DELETE NO ACTION
	ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDevices_Dispositions1`
    FOREIGN KEY (`CurrentDispositionID`)
    REFERENCES `StartupMigrationEngine`.`Dispositions` (`DispositionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDevices_MoveGroups`
    FOREIGN KEY (`MoveGroupID`)
    REFERENCES `StartupMigrationEngine`.`MoveGroups` (`MoveGroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDevices_SLAs1`
    FOREIGN KEY (`CurrentSLAID`)
    REFERENCES `StartupMigrationEngine`.`SLAs` (`SLAID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDevices_SLAs2`
    FOREIGN KEY (`TargetSLAID`)
    REFERENCES `StartupMigrationEngine`.`SLAs` (`SLAID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDevices_FloorLocations1`
    FOREIGN KEY (`FloorLocationID`)
    REFERENCES `StartupMigrationEngine`.`FloorLocations` (`FloorLocationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDevices_Racks1`
    FOREIGN KEY (`RackID`)
    REFERENCES `StartupMigrationEngine`.`Racks` (`RackID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDevices_Racks2`
    FOREIGN KEY (`TargetRackID`)
    REFERENCES `StartupMigrationEngine`.`Racks` (`RackID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDevices_FloorLocations2`
    FOREIGN KEY (`TargetFloorLocationID`)
    REFERENCES `StartupMigrationEngine`.`FloorLocations` (`FloorLocationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDevices_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_NetworkDevices_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDevices_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ApplicationOperationalServices`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ApplicationOperationalServices` (
  `ApplicationOperationalServiceID` INT NOT NULL AUTO_INCREMENT COMMENT '	',
  `ApplicationID` INT NOT NULL,
  `OperationalServiceID` INT NOT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ApplicationOperationalServiceID`),
  INDEX `fk_ApplicationOperationalServices_Applications1_idx` (`ApplicationID` ASC),
  INDEX `fk_ApplicationOperationalServices_OperationalServices1_idx` (`OperationalServiceID` ASC),
  INDEX `fk_ApplicationOperationalServices_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ApplicationOperationalServices_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ApplicationOperationalServices_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ApplicationOperationalServices_Applications1`
    FOREIGN KEY (`ApplicationID`)
    REFERENCES `StartupMigrationEngine`.`Applications` (`ApplicationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationOperationalServices_OperationalServices1`
    FOREIGN KEY (`OperationalServiceID`)
    REFERENCES `StartupMigrationEngine`.`OperationalServices` (`OperationalServiceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationOperationalServices_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ApplicationOperationalServices_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationOperationalServices_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ServerClusterTypes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ServerClusterTypes` (
  `ServerClusterTypeID` INT NOT NULL AUTO_INCREMENT,
  `ServerClusterTypeName` VARCHAR(200) NOT NULL,
  PRIMARY KEY (`ServerClusterTypeID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ServerClusters`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ServerClusters` (
  `ServerClusterID` INT NOT NULL AUTO_INCREMENT,
  `ServerClusterIdentifier` VARCHAR(200) NOT NULL,
  `ServerClusterTypeID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ServerClusterID`),
  INDEX `fk_ServerClusters_ServerClusterTypes1_idx` (`ServerClusterTypeID` ASC),
  INDEX `fk_ServerClusters_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ServerClusters_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ServerClusters_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ServerClusters_ServerClusterTypes1`
    FOREIGN KEY (`ServerClusterTypeID`)
    REFERENCES `StartupMigrationEngine`.`ServerClusterTypes` (`ServerClusterTypeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerClusters_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ServerClusters_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerClusters_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ServersInServerClusters`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ServersInServerClusters` (
  `ServersInServerClusterID` INT NOT NULL AUTO_INCREMENT,
  `ServerID` INT NOT NULL,
  `ServerClusterID` INT NOT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ServersInServerClusterID`),
  INDEX `fk_ServersInServerClusters_Servers1_idx` (`ServerID` ASC),
  INDEX `fk_ServersInServerClusters_ServerClusters1_idx` (`ServerClusterID` ASC),
  INDEX `fk_ServersInServerClusters_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ServersInServerClusters_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ServersInServerClusters_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ServersInServerClusters_Servers1`
    FOREIGN KEY (`ServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServersInServerClusters_ServerClusters1`
    FOREIGN KEY (`ServerClusterID`)
    REFERENCES `StartupMigrationEngine`.`ServerClusters` (`ServerClusterID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServersInServerClusters_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ServersInServerClusters_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServersInServerClusters_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`CCInstances`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`CCInstances` (
  `CCInstanceID` INT NOT NULL AUTO_INCREMENT,
  `View` VARCHAR(100) NOT NULL,
  `ReferenceField` VARCHAR(50) NOT NULL,
  `URL` VARCHAR(200) NOT NULL,
  PRIMARY KEY (`CCInstanceID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`DataPoints`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`DataPoints` (
  `DataPointID` INT NOT NULL AUTO_INCREMENT,
  `Table` VARCHAR(100) NOT NULL,
  `Field` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`DataPointID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Questions`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Questions` (
  `QuestionID` INT NOT NULL AUTO_INCREMENT,
  `CCQuestionID` INT NOT NULL,
  `QuestionName` VARCHAR(100) NOT NULL,
  `StoredProc` VARCHAR(100) NOT NULL,
  `CCInstanceID` INT NOT NULL,
  PRIMARY KEY (`QuestionID`),
  INDEX `fk_Questions_CCInstances1_idx` (`CCInstanceID` ASC),
  CONSTRAINT `fk_Questions_CCInstances1`
    FOREIGN KEY (`CCInstanceID`)
    REFERENCES `StartupMigrationEngine`.`CCInstances` (`CCInstanceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Options`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Options` (
  `OptionID` INT NOT NULL AUTO_INCREMENT,
  `CCOptionID` INT NOT NULL,
  `OptionName` VARCHAR(100) NOT NULL,
  `QuestionID` INT NOT NULL,
  PRIMARY KEY (`OptionID`),
  INDEX `fk_Options_Questions1_idx` (`QuestionID` ASC),
  CONSTRAINT `fk_Options_Questions1`
    FOREIGN KEY (`QuestionID`)
    REFERENCES `StartupMigrationEngine`.`Questions` (`QuestionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`QuestionDataPoints`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`QuestionDataPoints` (
  `QuestionDataPointID` INT NOT NULL AUTO_INCREMENT,
  `QuestionID` INT NOT NULL,
  `DataPointID` INT NOT NULL,
  PRIMARY KEY (`QuestionDataPointID`),
  INDEX `fk_QuestionDataPoints_Questions1_idx` (`QuestionID` ASC),
  INDEX `fk_QuestionDataPoints_DataPoints1_idx` (`DataPointID` ASC),
  CONSTRAINT `fk_QuestionDataPoints_Questions1`
    FOREIGN KEY (`QuestionID`)
    REFERENCES `StartupMigrationEngine`.`Questions` (`QuestionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_QuestionDataPoints_DataPoints1`
    FOREIGN KEY (`DataPointID`)
    REFERENCES `StartupMigrationEngine`.`DataPoints` (`DataPointID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ServerShares`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ServerShares` (
  `ServerShareID` INT NOT NULL AUTO_INCREMENT,
  `ServerID` INT NOT NULL,
  `ShareName` VARCHAR(200) NOT NULL,
  `LocalPath` VARCHAR(200) NULL,
  `AvailableGB` INT NULL,
  `UsedGB` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ServerShareID`),
  INDEX `fk_ServerShares_Servers1_idx` (`ServerID` ASC),
  INDEX `fk_ServerShares_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ServerShares_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ServerShares_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ServerShares_Servers1`
    FOREIGN KEY (`ServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerShares_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ServerShares_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerShares_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`StorageTypes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`StorageTypes` (
	StorageTypeID INT NOT NULL AUTO_INCREMENT,
	StorageTypeName VARCHAR(100) NOT NULL,
	PRIMARY KEY (`StorageTypeID`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`StorageServices`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`StorageServices` (
  `StorageServiceID` INT NOT NULL AUTO_INCREMENT,
  `StorageServiceName` VARCHAR(45) NOT NULL,
  `AvailableGB` INT NULL,
  `UsedGB` INT NULL,
  `StorageTypeID` INT NULL,
  `DiscoveryStateID` INT NULL,
  `MigrationScopeID` INT NULL,
  `CurrentDispositionID` INT NULL,
  `TargetDisposition` VARCHAR(100) NULL,
  `MoveGroupID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`StorageServiceID`),
  INDEX `fk_StorageServices_StorageType_idx_idx` (`StorageTypeID` ASC),
  INDEX `fk_StorageServices_DiscoveryState_idx_idx` (`DiscoveryStateID` ASC),
  INDEX `fk_StorageServices_MigrationScopes_idx_idx` (`MigrationScopeID` ASC),
  INDEX `fk_StorageServices_Dispositions1_idx` (`CurrentDispositionID` ASC),
  INDEX `fk_StorageServices_Dispositions2_idx` (`TargetDisposition` ASC),
  INDEX `fk_StorageServices_MoveGroups_idx` (`MoveGroupID` ASC),  
  INDEX `fk_StorageServices_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_StorageServices_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_StorageServices_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_StorageServices_StorageType`
	FOREIGN KEY (`StorageTypeID`)
	REFERENCES `StartupMigrationEngine`.`StorageTypes` (`StorageTypeID`)
	ON DELETE NO ACTION
	ON UPDATE NO ACTION,
  CONSTRAINT `fk_StorageServices_DiscoveryState`
	FOREIGN KEY (`DiscoveryStateID`)
	REFERENCES `StartupMigrationEngine`.`DiscoveryState` (`DiscoveryStateID`)
	ON DELETE NO ACTION
	ON UPDATE NO ACTION,
  CONSTRAINT `fk_StorageServices_MigrationScopes`
	FOREIGN KEY (`MigrationScopeID`)
	REFERENCES `StartupMigrationEngine`.`MigrationScopes` (`MigrationScopeID`)
	ON DELETE NO ACTION
	ON UPDATE NO ACTION,
  CONSTRAINT `fk_StorageServices_Dispositions1`
    FOREIGN KEY (`CurrentDispositionID`)
    REFERENCES `StartupMigrationEngine`.`Dispositions` (`DispositionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_StorageServices_MoveGroups`
    FOREIGN KEY (`MoveGroupID`)
    REFERENCES `StartupMigrationEngine`.`MoveGroups` (`MoveGroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,  
  CONSTRAINT `fk_StorageServices_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_StorageServices_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_StorageServices_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`NASShares`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`NASShares` (
  `NASShareID` INT NOT NULL AUTO_INCREMENT,
  `NASShareName` VARCHAR(200) NOT NULL,
  `StorageServiceID` INT NOT NULL,
  `AvailableGB` INT NULL,
  `UsedGB` INT NULL,
  `DiscoveryStateID` INT NULL,
  `MigrationScopeID` INT NULL,
  `CurrentDispositionID` INT NULL,
  `TargetDisposition` VARCHAR(100) NULL,
  `MoveGroupID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`NASShareID`),
  INDEX `fk_NASShares_StorageServices_idx` (`StorageServiceID` ASC),
  INDEX `fk_NASShares_DiscoveryState_idx_idx` (`DiscoveryStateID` ASC),
  INDEX `fk_NASShares_MigrationScopes_idx_idx` (`MigrationScopeID` ASC),
  INDEX `fk_NASShares_Dispositions1_idx` (`CurrentDispositionID` ASC),
  INDEX `fk_NASShares_Dispositions2_idx` (`TargetDisposition` ASC),
  INDEX `fk_NASShares_MoveGroups_idx` (`MoveGroupID` ASC),  
  INDEX `fk_NASShares_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_NASShares_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_NASShares_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_NASShares_StorageServices`
    FOREIGN KEY (`StorageServiceID`)
    REFERENCES `StartupMigrationEngine`.`StorageServices` (`StorageServiceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NASShares_DiscoveryState`
	FOREIGN KEY (`DiscoveryStateID`)
	REFERENCES `StartupMigrationEngine`.`DiscoveryState` (`DiscoveryStateID`)
	ON DELETE NO ACTION
	ON UPDATE NO ACTION,
  CONSTRAINT `fk_NASShares_MigrationScopes`
	FOREIGN KEY (`MigrationScopeID`)
	REFERENCES `StartupMigrationEngine`.`MigrationScopes` (`MigrationScopeID`)
	ON DELETE NO ACTION
	ON UPDATE NO ACTION,
  CONSTRAINT `fk_NASShares_Dispositions1`
    FOREIGN KEY (`CurrentDispositionID`)
    REFERENCES `StartupMigrationEngine`.`Dispositions` (`DispositionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NASShares_MoveGroups`
    FOREIGN KEY (`MoveGroupID`)
    REFERENCES `StartupMigrationEngine`.`MoveGroups` (`MoveGroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NASShares_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_NASShares_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NASShares_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ServerShareMounts`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ServerShareMounts` (
  `ServerShareMountID` INT NOT NULL AUTO_INCREMENT,
  `ServerID` INT NOT NULL,
  `LocalMount` VARCHAR(200) NULL,
  `ServerShareID` INT NULL,
  `NASShareID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ServerShareMountID`),
  INDEX `fk_ServerShareMounts_Servers1_idx` (`ServerID` ASC),
  INDEX `fk_ServerShareMounts_ServerShares1_idx` (`ServerShareID` ASC),
  INDEX `fk_ServerShareMounts_NASShares1_idx` (`NASShareID` ASC),
  INDEX `fk_ServerShareMounts_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ServerShareMounts_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ServerShareMounts_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ServerShareMounts_Servers1`
    FOREIGN KEY (`ServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerShareMounts_ServerShares1`
    FOREIGN KEY (`ServerShareID`)
    REFERENCES `StartupMigrationEngine`.`ServerShares` (`ServerShareID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerShareMounts_NASShares1`
    FOREIGN KEY (`NASShareID`)
    REFERENCES `StartupMigrationEngine`.`NASShares` (`NASShareID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerShareMounts_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ServerShareMounts_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerShareMounts_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`SanLunTypes`
-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`SanLunTypes` (
SANLUNTypeID INT NOT NULL AUTO_INCREMENT,
SanLunTypeName VARCHAR(100) NOT NULL,
PRIMARY KEY (`SANLUNTypeID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`SANLUNs`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`SANLUNs` (
  `SANLUNID` INT NOT NULL AUTO_INCREMENT,
  `SANLUNName` VARCHAR(100) NOT NULL,
  `SANLUNTypeID` INT NULL,
  `StorageServiceID` INT NOT NULL,
  `SizeGB` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`SANLUNID`),
  INDEX `fk_SANLUNs_SANLUNType_idx` (`SANLUNTypeID` ASC),
  INDEX `fk_SANLUNs_StorageServices1_idx` (`StorageServiceID` ASC),
  INDEX `fk_SANLUNs_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_SANLUNs_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_SANLUNs_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_SANLUNs_SANLUNType_idx`
    FOREIGN KEY (`SANLUNTypeID`)
    REFERENCES `StartupMigrationEngine`.`SanLunTypes` (`SANLUNTypeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SANLUNs_StorageServices1`
    FOREIGN KEY (`StorageServiceID`)
    REFERENCES `StartupMigrationEngine`.`StorageServices` (`StorageServiceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SANLUNs_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_SANLUNs_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SANLUNs_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ServerSANConnections`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ServerSANConnections` (
  `ServerSANConnectionID` INT NOT NULL AUTO_INCREMENT,
  `ServerID` INT NOT NULL,
  `LocalName` VARCHAR(200) NOT NULL,
  `SANLUNID` INT NOT NULL,
  `StorageServiceID` INT NULL,
  `AvailableGB` INT NULL,
  `UsedGB` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ServerSANConnectionID`),
  INDEX `fk_ServerSANConnections_Servers1_idx` (`ServerID` ASC),
  INDEX `fk_ServerSANConnections_SANLUNs1_idx` (`SANLUNID` ASC),
  INDEX `fk_ServerSANConnections_StorageServices_idx` (`StorageServiceID` ASC),
  INDEX `fk_ServerSANConnections_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ServerSANConnections_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ServerSANConnections_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ServerSANConnections_Servers1`
    FOREIGN KEY (`ServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerSANConnections_SANLUNs1`
    FOREIGN KEY (`SANLUNID`)
    REFERENCES `StartupMigrationEngine`.`SANLUNs` (`SANLUNID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerSANConnections_StorageServices`
    FOREIGN KEY (`StorageServiceID`)
    REFERENCES `StartupMigrationEngine`.`StorageServices` (`StorageServiceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerSANConnections_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ServerSANConnections_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerSANConnections_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ServerDAS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ServerDAS` (
  `ServerDASID` INT NOT NULL AUTO_INCREMENT,
  `ServerID` INT NOT NULL,
  `DASReference` VARCHAR(200) NOT NULL,
  `AvailableGB` INT NULL,
  `UsedGB` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ServerDASID`),
  INDEX `fk_ServerDAS_Servers1_idx` (`ServerID` ASC),
  INDEX `fk_ServerDAS_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ServerDAS_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ServerDAS_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ServerDAS_Servers1`
    FOREIGN KEY (`ServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerDAS_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ServerDAS_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerDAS_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`AssetTypeConsistencyChecks`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`AssetTypeConsistencyChecks` (
  `AssetTypeConsistencyCheckID` INT NOT NULL AUTO_INCREMENT,
  `AsssetTypeID` INT NOT NULL,
  `ConsistencyCheckSP` VARCHAR(100) NOT NULL,
  `ConsistencyCheckName` VARCHAR(100) NULL,
  `ConsistencyCheckgMsg` LONGTEXT NULL,
  PRIMARY KEY (`AssetTypeConsistencyCheckID`),
  KEY `fk_AssetTypeConsistencyChecks_AssetTypes1_idx` (`AsssetTypeID`),
  CONSTRAINT `fk_AssetTypeConsistencyChecks_AssetTypes1` 
  	FOREIGN KEY (`AsssetTypeID`) 
  	REFERENCES `AssetTypes` (`AssetTypeID`) 
  	ON DELETE NO ACTION 
  	ON UPDATE NO ACTION) 
  ENGINE=InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ApplicationComponentInstanceMigrationMethods`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ApplicationComponentInstanceMigrationMethods` (
  `ApplicationComponentInstanceMigrationMethodID` INT NOT NULL AUTO_INCREMENT,
  `ApplicationComponentInstanceID` INT NOT NULL,
  `MigrationMethodID` INT NOT NULL,
  PRIMARY KEY (`ApplicationComponentInstanceMigrationMethodID`),
  INDEX `fk_ApplicationComponentInstanceMigrationMethods_Application_idx` (`ApplicationComponentInstanceID` ASC),
  INDEX `fk_ApplicationComponentInstanceMigrationMethods_MigrationMe_idx` (`MigrationMethodID` ASC),
  CONSTRAINT `fk_ApplicationComponentInstanceMigrationMethods_ApplicationCo1`
    FOREIGN KEY (`ApplicationComponentInstanceID`)
    REFERENCES `StartupMigrationEngine`.`ApplicationComponentInstances` (`ApplicationComponentInstanceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstanceMigrationMethods_MigrationMeth1`
    FOREIGN KEY (`MigrationMethodID`)
    REFERENCES `StartupMigrationEngine`.`MigrationMethods` (`MigrationMethodID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ApplicationComponentInstanceTransformationMethods`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ApplicationComponentInstanceTransformationMethods` (
  `ApplicationComponentInstanceTransformationMethodID` INT NOT NULL AUTO_INCREMENT,
  `ApplicationComponentInstanceID` INT NOT NULL,
  `TransformationMethodID` INT NOT NULL,
  PRIMARY KEY (`ApplicationComponentInstanceTransformationMethodID`),
  INDEX `fk_ApplicationComponentInstanceTransformationMethods_Transf_idx` (`TransformationMethodID` ASC),
  INDEX `fk_ApplicationComponentInstanceTransformationMethods_Applic_idx` (`ApplicationComponentInstanceID` ASC),
  CONSTRAINT `fk_ApplicationComponentInstanceTransformationMethods_Transfor1`
    FOREIGN KEY (`TransformationMethodID`)
    REFERENCES `StartupMigrationEngine`.`TransformationMethods` (`TransformationMethodID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ApplicationComponentInstanceTransformationMethods_Applicat1`
    FOREIGN KEY (`ApplicationComponentInstanceID`)
    REFERENCES `StartupMigrationEngine`.`ApplicationComponentInstances` (`ApplicationComponentInstanceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ServerMigrationMethods`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ServerMigrationMethods` (
  `ServerMigrationMethodID` INT NOT NULL AUTO_INCREMENT,
  `ServerID` INT NOT NULL,
  `MigrationMethodID` INT NOT NULL,
  PRIMARY KEY (`ServerMigrationMethodID`),
  INDEX `fk_ServerMigrationMethods_Servers1_idx` (`ServerID` ASC),
  INDEX `fk_ServerMigrationMethods_MigrationMethods1_idx` (`MigrationMethodID` ASC),
  CONSTRAINT `fk_ServerMigrationMethods_Servers1`
    FOREIGN KEY (`ServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerMigrationMethods_MigrationMethods1`
    FOREIGN KEY (`MigrationMethodID`)
    REFERENCES `StartupMigrationEngine`.`MigrationMethods` (`MigrationMethodID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ServerTransformationMethods`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ServerTransformationMethods` (
  `ServerTransformationMethodID` INT NOT NULL AUTO_INCREMENT,
  `ServerID` INT NOT NULL,
  `TransformationMethodID` INT NOT NULL,
  PRIMARY KEY (`ServerTransformationMethodID`),
  INDEX `fk_ServerTransformationMethods_Servers1_idx` (`ServerID` ASC),
  INDEX `fk_ServerTransformationMethods_TransformationMethods1_idx` (`TransformationMethodID` ASC),
  CONSTRAINT `fk_ServerTransformationMethods_Servers1`
    FOREIGN KEY (`ServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerTransformationMethods_TransformationMethods1`
    FOREIGN KEY (`TransformationMethodID`)
    REFERENCES `StartupMigrationEngine`.`TransformationMethods` (`TransformationMethodID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Functions`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Functions` (
  `FunctionID` INT NOT NULL AUTO_INCREMENT,
  `FunctionName` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`FunctionID`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`GroupFunctions`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`GroupFunctions` (
  `GroupFunctionID` INT NOT NULL AUTO_INCREMENT,
  `GroupID` INT NOT NULL,
  `FunctionID` INT NOT NULL,
  PRIMARY KEY (`GroupFunctionID`),
  INDEX `fk_GroupFunctions_Groups1_idx` (`GroupID` ASC),
  INDEX `fk_GroupFunctions_Functions1_idx` (`FunctionID` ASC),
  CONSTRAINT `fk_GroupFunctions_Functions1`
    FOREIGN KEY (`FunctionID`)
    REFERENCES `StartupMigrationEngine`.`Functions` (`FunctionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_GroupFunctions_Groups1`
    FOREIGN KEY (`GroupID`)
    REFERENCES `StartupMigrationEngine`.`Groups` (`GroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`NetworkDeviceUsedByServer`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`NetworkDeviceUsedByServer` (
  `NetworkDeviceUsedByServerID` INT NOT NULL AUTO_INCREMENT,
  `NetworkDeviceID` INT NOT NULL,
  `ServerID` INT NOT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`NetworkDeviceUsedByServerID`),
  INDEX `fk_NetworkDeviceUsedByServer_NetworkDevices_idx` (`NetworkDeviceID` ASC),
  INDEX `fk_NetworkDeviceUsedByServer_Servers_idx` (`ServerID` ASC),
  INDEX `fk_NetworkDeviceUsedByServer_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_NetworkDeviceUsedByServer_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_NetworkDeviceUsedByServer_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_NetworkDeviceUsedByServer_NetworkDevices`
    FOREIGN KEY (`NetworkDeviceID`)
    REFERENCES `StartupMigrationEngine`.`NetworkDevices` (`NetworkDeviceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDeviceUsedByServer_Servers`
    FOREIGN KEY (`ServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDeviceUsedByServer_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_NetworkDeviceUsedByServer_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NetworkDeviceUsedByServer_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`OperatingSystems`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`OperatingSystems` (
  `OperatingSystemID` INT NOT NULL AUTO_INCREMENT,
  `OperatingSystemName` VARCHAR(100) NOT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`OperatingSystemID`),
  INDEX `fk_OperatingSystems_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_OperatingSystems_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_OperatingSystems_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_OperatingSystems_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_OperatingSystems_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OperatingSystems_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`OperatingSystemVersions`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`OperatingSystemVersions` (
  `OperatingSystemVersionID` INT NOT NULL AUTO_INCREMENT,
  `OperatingSystemID` INT NOT NULL,
  `OperatingSystemVersion` VARCHAR(100) NOT NULL,
  `SupportStatusID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`OperatingSystemVersionID`),
  INDEX `fk_OperatingSystemVersions_OperatingSystems_idx` (`OperatingSystemID` ASC),
  INDEX `fk_OperatingSystemVersions_SupportStatus1_idx` (`SupportStatusID` ASC),
  INDEX `fk_OperatingSystemVersions_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_OperatingSystemVersions_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_OperatingSystemVersions_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_OperatingSystemVersions_OperatingSystems`
    FOREIGN KEY (`OperatingSystemID`)
    REFERENCES `StartupMigrationEngine`.`OperatingSystems` (`OperatingSystemID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OperatingSystemVersions_SupportStatus1`
    FOREIGN KEY (`SupportStatusID`)
    REFERENCES `StartupMigrationEngine`.`SupportStatus` (`SupportStatusID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OperatingSystemVersions_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_OperatingSystemVersions_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OperatingSystemVersions_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ServerClusterLUNs`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ServerClusterLUNs` (
  `ServerClusterLUNID` INT NOT NULL AUTO_INCREMENT,
  `ServerClusterID` INT NOT NULL,
  `LocalName` VARCHAR(200) NOT NULL,
  `SANLUNID` INT NOT NULL,
  `StorageServiceID` INT NULL,
  `AvailableGB` INT NULL,
  `UsedGB` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ServerClusterLUNID`),
  INDEX `fk_ServerClusterLUNs_ServerClusters_idx` (`ServerClusterID` ASC),
  INDEX `fk_ServerClusterLUNs_SANLUNs1_idx` (`SANLUNID` ASC),
  INDEX `fk_ServerClusterLUNs_StorageServices_idx` (`StorageServiceID` ASC),
  INDEX `fk_ServerClusterLUNs_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ServerClusterLUNs_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ServerClusterLUNs_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ServerClusterLUNs_ServerClusters`
    FOREIGN KEY (`ServerClusterID`)
    REFERENCES `StartupMigrationEngine`.`ServerClusters` (`ServerClusterID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerClusterLUNs_SANLUNs1`
    FOREIGN KEY (`SANLUNID`)
    REFERENCES `StartupMigrationEngine`.`SANLUNs` (`SANLUNID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerClusterLUNs_StorageServices`
    FOREIGN KEY (`StorageServiceID`)
    REFERENCES `StartupMigrationEngine`.`StorageServices` (`StorageServiceID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerClusterLUNs_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ServerClusterLUNs_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerClusterLUNs_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`OtherHardwareTypes`
-- -----------------------------------------------------

CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`OtherHardwareTypes` (
OtherHardwareTypeID INT NOT NULL AUTO_INCREMENT,
OtherHardwareTypeName VARCHAR(100) NOT NULL,
PRIMARY KEY (`OtherHardwareTypeID`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`OtherHardwares`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`OtherHardwares` (
  `OtherHardwareID` INT NOT NULL AUTO_INCREMENT,
  `OtherHardwareName` VARCHAR(100) NOT NULL,
  `OtherHardwareTypeID` INT NULL,
  `DiscoveryStateID` INT NULL,
  `MigrationScopeID` INT NULL,
  `CurrentDispositionID` INT NULL,
  `TargetDisposition` VARCHAR(100) NULL,
  `MoveGroupID` INT NULL,
  `RackID` INT NULL,
  `TargetRackID` INT NULL,
  `FloorLocationID` INT NULL,
  `TargetFloorLocationID` INT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`OtherHardwareID`),
  INDEX `fk_OtherHardwares_OtherHardwareType_idx` (`OtherHardwareTypeID` ASC),
  INDEX `fk_OtherHardwares_DiscoveryState_idx_idx` (`DiscoveryStateID` ASC),
  INDEX `fk_OtherHardwares_MigrationScopes_idx_idx` (`MigrationScopeID` ASC),
  INDEX `fk_OtherHardwares_Dispositions1_idx` (`CurrentDispositionID` ASC),
  INDEX `fk_OtherHardwares_Dispositions2_idx` (`TargetDisposition` ASC),
  INDEX `fk_OtherHardwares_MoveGroups_idx` (`MoveGroupID` ASC),
  INDEX `fk_OtherHardwares_FloorLocations1_idx` (`FloorLocationID` ASC),
  INDEX `fk_OtherHardwares_FloorLocations2_idx` (`TargetFloorLocationID` ASC),
  INDEX `fk_OtherHardwares_Racks1_idx` (`RackID` ASC),
  INDEX `fk_OtherHardwares_Racks2_idx` (`TargetRackID` ASC),
  INDEX `fk_OtherHardwares_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_OtherHardwares_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_OtherHardwares_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_OtherHardwares_OtherHardwareType`
	FOREIGN KEY (`OtherHardwareTypeID`)
	REFERENCES `StartupMigrationEngine`.`OtherHardwareTypes` (`OtherHardwareTypeID`)
	ON DELETE NO ACTION
	ON UPDATE NO ACTION,
  CONSTRAINT `fk_OtherHardwares_DiscoveryState`
	FOREIGN KEY (`DiscoveryStateID`)
	REFERENCES `StartupMigrationEngine`.`DiscoveryState` (`DiscoveryStateID`)
	ON DELETE NO ACTION
	ON UPDATE NO ACTION,
  CONSTRAINT `fk_OtherHardwares_MigrationScopes`
	FOREIGN KEY (`MigrationScopeID`)
	REFERENCES `StartupMigrationEngine`.`MigrationScopes` (`MigrationScopeID`)
	ON DELETE NO ACTION
	ON UPDATE NO ACTION,
  CONSTRAINT `fk_OtherHardwares_Dispositions1`
    FOREIGN KEY (`CurrentDispositionID`)
    REFERENCES `StartupMigrationEngine`.`Dispositions` (`DispositionID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OtherHardwares_MoveGroups`
    FOREIGN KEY (`MoveGroupID`)
    REFERENCES `StartupMigrationEngine`.`MoveGroups` (`MoveGroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OtherHardwares_FloorLocations1`
    FOREIGN KEY (`FloorLocationID`)
    REFERENCES `StartupMigrationEngine`.`FloorLocations` (`FloorLocationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OtherHardwares_Racks1`
    FOREIGN KEY (`RackID`)
    REFERENCES `StartupMigrationEngine`.`Racks` (`RackID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OtherHardwares_Racks2`
    FOREIGN KEY (`TargetRackID`)
    REFERENCES `StartupMigrationEngine`.`Racks` (`RackID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OtherHardwares_FloorLocations2`
    FOREIGN KEY (`TargetFloorLocationID`)
    REFERENCES `StartupMigrationEngine`.`FloorLocations` (`FloorLocationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OtherHardwares_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_OtherHardwares_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OtherHardwares_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ServerNICs`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ServerNICs` (
  `ServerNICID` INT NOT NULL AUTO_INCREMENT,
  `ServerID` INT NOT NULL,
  `IPAddress` VARCHAR(100) NOT NULL,
  `TemplateUploadID` INT(11) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`ServerNICID`),
  INDEX `fk_ServerNICs_Servers1_idx` (`ServerID` ASC),
  INDEX `fk_ServerNICs_TemplateUploads_idx` (`TemplateUploadID` ASC),
  INDEX `fk_ServerNICs_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_ServerNICs_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_ServerNICs_Servers1`
    FOREIGN KEY (`ServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerNICs_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_ServerNICs_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ServerNICs_TemplateUploads`
    FOREIGN KEY (`TemplateUploadID`)
    REFERENCES `StartupMigrationEngine`.`TemplateUploads` (`TemplateUploadID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
 ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ServerOverrideDecisions`
-- -----------------------------------------------------
CREATE TABLE `StartupMigrationEngine`.`ServerOverrideDecisions` (
  `ServerOverrideDecisionID` INT(11) NOT NULL AUTO_INCREMENT,
  `ServerID` INT(11) NOT NULL,
  `AssetTypeConsistencyCheckID` INT(11) NOT NULL,
  PRIMARY KEY (`ServerOverrideDecisionID`)  ,
  INDEX `fk_Servers_idx` (`ServerID` ASC)  ,
  INDEX `fk_AssetTypeConsistencyCheck_idx` (`AssetTypeConsistencyCheckID` ASC)  ,
  CONSTRAINT `fk_Servers`
    FOREIGN KEY (`ServerID`)
    REFERENCES `StartupMigrationEngine`.`Servers` (`ServerID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AssetTypeConsistencyCheck`
    FOREIGN KEY (`AssetTypeConsistencyCheckID`)
    REFERENCES `StartupMigrationEngine`.`AssetTypeConsistencyChecks` (`AssetTypeConsistencyCheckID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
  ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`AssetDataConsistencyCheckResult`
-- -----------------------------------------------------
CREATE TABLE `StartupMigrationEngine`.`AssetDataConsistencyCheckResult` (
  `UploadID` INT(11) NOT NULL,
  `AssetTab` VARCHAR(100) NULL,
  `AssetName` VARCHAR(200) NULL,
  `RuleName` VARCHAR(100) NULL,
  `Result` LONGTEXT NULL,
  `AssetID` INT(11) NULL,
  `RuleID` INT(11) NULL)
  ENGINE = InnoDB;

 
-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`AssetDataSourceConflictResult`
-- -----------------------------------------------------
CREATE TABLE `StartupMigrationEngine`.`AssetDataSourceConflictResult` (
  `UploadID` INT(11) NOT NULL,
  `AssetTab` VARCHAR(100) NOT NULL,
  `AssetID` INT(11) NOT NULL,
  `AssetName` VARCHAR(500) NOT NULL,
  `PreviousDataSource` VARCHAR(100) NULL,
  `PreviousUploadDate` CHAR(10) NULL,
  `NewDataSource` VARCHAR(100) NULL,
  `ConflictFound` CHAR(1) NULL,
   PRIMARY KEY (`UploadID`,`AssetTab`,`AssetName`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`AssetCustomFields`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`AssetCustomFields` (
  `AssetCustomFieldID` INT NOT NULL AUTO_INCREMENT,
  `AssetTableName` VARCHAR(100) NOT NULL,
  `EnableCustomField` CHAR(1) NOT NULL,
  `CustomFieldName1` VARCHAR(100) NULL,
  `CustomFieldName2` VARCHAR(100) NULL,
  `CustomFieldName3` VARCHAR(100) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT(11) NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID`  INT(11) NOT NULL,
  PRIMARY KEY (`AssetCustomFieldID`),
  INDEX `fk_AssetCustomFields_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  INDEX `fk_AssetCustomFields_CreatedByUser_idx` (`CreatedByUserID` ASC),
  CONSTRAINT `fk_AssetCustomFields_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_AssetCustomFields_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
 ) ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TaskTemplateByMethods`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TaskTemplateByMethods` (
  `TaskTemplateByMethodsID` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `TaskTemplateId` INT NULL COMMENT '',
  `MethodId` INT NULL COMMENT '',
  `MethodName` VARCHAR(45) NULL COMMENT '',
  `MethodType` VARCHAR(45) NULL COMMENT '',
  `Notes` VARCHAR(45) NULL COMMENT '',
  `UserId` INT NULL COMMENT '',
  `Timestamp` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP COMMENT '',
  PRIMARY KEY (`TaskTemplateByMethodsID`)  COMMENT '',
  KEY  `fk_TaskTemplateByMethods_TaskTemplates1_idx`(`TaskTemplateID`),
  KEY `fk_TaskTemplateByMethods_UserId_idx` (`UserID`),
  CONSTRAINT `fk_TaskTemplateByMethods_TaskTemplates1` FOREIGN KEY (`TaskTemplateID`) REFERENCES `TaskTemplates` (`TaskTemplateID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskTemplateByMethods_Users1` FOREIGN KEY (`UserID`) REFERENCES `Users` (`UserID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`AssetDispositions`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`AssetDispositions` (
  `AssetDispositionsId` INT(11) NOT NULL AUTO_INCREMENT,
  `AssetId` INT(11) NOT NULL,
  `AssetType` VARCHAR(100) NOT NULL,
  `DispositionId` INT(11) NOT NULL,
  `DispositionName` VARCHAR(100) NOT NULL,
  `DecidedDispositionFlag` TINYINT(1) DEFAULT NULL,
  `RiskScore` VARCHAR(100) NULL,
  `Complexity` VARCHAR(100) NULL,
  PRIMARY KEY (`AssetDispositionsId`),
  UNIQUE(`AssetId`, `DispositionId`,`AssetType`, `DispositionName`)
) ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`AssetMigrationScope`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`AssetMigrationScope` (
  `AssetMigrationScopeId` INT(11) NOT NULL AUTO_INCREMENT,
  `AssetID` INT(11) NOT NULL,
  `AssetType` VARCHAR(100) NOT NULL,
  `MigrationScopeId` INT(11) NOT NULL,
  `MigrationScopeSignOffFlag` TINYINT(1) NOT NULL,
  PRIMARY KEY (`AssetMigrationScopeId`),
  UNIQUE INDEX `AssetMigrationScope_UNIQUE` (`AssetID` ASC, `AssetType` ASC),
  INDEX `MigrationScopeId_idx` (`MigrationScopeId` ASC),
  CONSTRAINT `fk_MigrationScopeId`
    FOREIGN KEY (`MigrationScopeId`)
    REFERENCES `StartupMigrationEngine`.`MigrationScopes` (`MigrationScopeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
 ) ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`AssetMoveGroup`
-- -----------------------------------------------------
CREATE TABLE `StartupMigrationEngine`.`AssetMoveGroup` (
  `AssetMoveGroupId` INT(11) NOT NULL AUTO_INCREMENT,
  `AssetID` INT(11) NOT NULL,
  `AssetType` VARCHAR(100) NOT NULL,
  `MoveGroupId` INT(11) NOT NULL,
  PRIMARY KEY (`AssetMoveGroupId`),
  INDEX `fk_MoveGroupId_idx` (`MoveGroupId` ASC),
  CONSTRAINT `fk_MoveGroupId`
    FOREIGN KEY (`MoveGroupId`)
    REFERENCES `StartupMigrationEngine`.`MoveGroups` (`MoveGroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
) ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`DispositionMethods`
-- -----------------------------------------------------
CREATE TABLE `StartupMigrationEngine`.`DispositionMethods` (
  `DispositionMethodId` INT(11) NOT NULL AUTO_INCREMENT,
  `MethodType` ENUM('MIGRATION', 'TRANSFORMATION') NOT NULL,
  `MethodId` INT(11) NOT NULL,
  `MethodName` VARCHAR(100) NOT NULL,
  `AssetDispositionsId` INT(11) NOT NULL,
  PRIMARY KEY (`DispositionMethodId`),
  INDEX `fk_DispositionMethods_AssetDispositions_idx` (`AssetDispositionsId` ASC),
  CONSTRAINT `fk_DispositionMethods_AssetDispositions`
    FOREIGN KEY (`AssetDispositionsId`)
    REFERENCES `StartupMigrationEngine`.`AssetDispositions` (`AssetDispositionsId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
) ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`ChangeControlDecisions`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`ChangeControlDecisions` (
  `ChangeControlDecisionID` INT NOT NULL AUTO_INCREMENT,
  `ChangeControlDecisionName` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`ChangeControlDecisionID`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`BusinessCriticality`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`BusinessCriticality` (
  `BusinessCriticalityID` INT NOT NULL AUTO_INCREMENT,
  `BusinessCriticalityName` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`BusinessCriticalityID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`Task`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`Task` (
  `TaskID` INT NOT NULL AUTO_INCREMENT COMMENT 'If there is no template ID, it is an AdHoc task created',
  `TemplateTaskID` INT NULL,
  `AssetID` INT(11) NOT NULL,
  `MoveGroupId` INT(11) NOT NULL,
  `AssetType` VARCHAR(100) NOT NULL,
  `DueDate` DATE NULL,
  `Notes` VARCHAR(2000) NULL,
  `ExecutionLevelID` INT(11) NULL,
   `ExecutionLevel` VARCHAR(100)  NULL,
   
  PRIMARY KEY (`TaskID`),
  INDEX `fk_Task_TaskTemplates1_idx` (`TemplateTaskID` ASC),
  INDEX `fk_Task_MoveGroup1_idx` (`MoveGroupID` ASC),
  CONSTRAINT `fk_Task_TaskTemplates1`
    FOREIGN KEY (`TemplateTaskID`)
    REFERENCES `StartupMigrationEngine`.`TaskTemplates` (`TaskTemplateID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
    CONSTRAINT `fk_Task_MoveGroup1`
    FOREIGN KEY (`MoveGroupID`)
    REFERENCES `StartupMigrationEngine`.`MoveGroups` (`MoveGroupID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)    
    
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TaskStatus`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TaskStatus` (
  `TaskStatusID` INT NOT NULL AUTO_INCREMENT,
  `TaskStatusName` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`TaskStatusID`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TaskUsers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TaskUsers` (
  `TaskUserID` INT NOT NULL AUTO_INCREMENT,
  `TaskID` INT NOT NULL,
  `UserID` INT NOT NULL,
  `RoleID` INT NOT NULL,
  PRIMARY KEY (`TaskUserID`),
  INDEX `fk_TaskUsers_Task1_idx` (`TaskID` ASC),
  INDEX `fk_TaskUsers_Users1_idx` (`UserID` ASC),
  CONSTRAINT `fk_TaskUsers_Task1`
    FOREIGN KEY (`TaskID`)
    REFERENCES `StartupMigrationEngine`.`Task` (`TaskID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskUsers_Users1`
    FOREIGN KEY (`UserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskUsers_Roles1`
    FOREIGN KEY (`RoleID`)
    REFERENCES `StartupMigrationEngine`.`Roles` (`RoleID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TaskStatusUsers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TaskStatusUsers` (
  `TaskStatusUserID` INT NOT NULL AUTO_INCREMENT,
  `TaskID` INT NOT NULL,
  `UserID` INT NOT NULL,
  `TaskStatusID` INT NULL,
  `Notes` VARCHAR(2000) NULL DEFAULT '',
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`TaskStatusUserID`),
  INDEX `fk_TaskStatusUsers_Task1_idx` (`TaskID` ASC),
  INDEX `fk_TaskStatusUsers_Users1_idx` (`UserID` ASC),
  INDEX `fk_TaskStatusUsers_TaskStatus1_idx` (`TaskStatusID` ASC),
  CONSTRAINT `fk_TaskStatusUsers_Task1`
    FOREIGN KEY (`TaskID`)
    REFERENCES `StartupMigrationEngine`.`Task` (`TaskID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskStatusUsers_Users1`
    FOREIGN KEY (`UserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TaskStatusUsers_TaskStatus1`
    FOREIGN KEY (`TaskStatusID`)
    REFERENCES `StartupMigrationEngine`.`TaskStatus` (`TaskStatusID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`AssetRoles`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`AssetRoles` (
  `AssetRoleID` INT NOT NULL AUTO_INCREMENT,
  `AssetID` INT NOT NULL,
  `AssetTypeID` INT NOT NULL,
  `RoleID` INT NOT NULL,
  `UserID` INT NULL,
  `OtherName` VARCHAR(200) NULL,
  `CreationDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CreatedByUserID` INT NOT NULL,
  `LastUpdatedDate` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LastUpdatedByUserID` INT NOT NULL,	
  PRIMARY KEY (`AssetRoleID`),
  UNIQUE INDEX `AssetRoles_UNIQUE` (`AssetID` ASC, `AssetTypeID` ASC, `RoleID` ASC, `UserID` ASC),
  INDEX `fk_AssetRoles_AssetTypes_idx` (`AssetTypeID` ASC),
  INDEX `fk_AssetRoles_Roles_idx` (`RoleID` ASC),
  INDEX `fk_AssetRoles_Users_idx` (`UserID` ASC),
  INDEX `fk_AssetRoles_CreatedByUser_idx` (`CreatedByUserID` ASC),
  INDEX `fk_AssetRoles_LastUpdatedByUser_idx` (`LastUpdatedByUserID` ASC),
  CONSTRAINT `fk_AssetRoles_CreatedByUser`
    FOREIGN KEY (`CreatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,	
  CONSTRAINT `fk_AssetRoles_LastUpdatedByUser`
    FOREIGN KEY (`LastUpdatedByUserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AssetRoles_AssetTypes`
    FOREIGN KEY (`AssetTypeID`)
    REFERENCES `StartupMigrationEngine`.`AssetTypes` (`AssetTypeID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AssetRoles_Roles`
    FOREIGN KEY (`RoleID`)
    REFERENCES `StartupMigrationEngine`.`Roles` (`RoleID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AssetRoles_Users`
    FOREIGN KEY (`UserID`)
    REFERENCES `StartupMigrationEngine`.`Users` (`UserID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
) ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`TaskAttachments`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`TaskAttachments` (
  `TaskAttachmentId` INT NOT NULL AUTO_INCREMENT,
  `TaskId` INT NOT NULL,
  `Identity` VARCHAR(50) NULL,
  `AttachmentName` VARCHAR(100) NULL,   
  PRIMARY KEY (`TaskAttachmentId`),
  INDEX `fk_TaskAttachments_Task_idx` (`TaskId` ASC),
  CONSTRAINT `fk_TaskAttachments_Task`
    FOREIGN KEY (`TaskId`)
    REFERENCES `StartupMigrationEngine`.`Task` (`TaskId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION
) ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `StartupMigrationEngine`.`DBBackupStatus`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `StartupMigrationEngine`.`DBBackupStatus` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `Status` VARCHAR(50) NOT NULL,
  `Description` VARCHAR(500) NULL,
  PRIMARY KEY (`ID`)
) ENGINE = InnoDB;


-- -----------------------------------------------------
-- StoredProcedure `StartupMigrationEngine`.`SP_ServerEnvironmentMix`
-- -----------------------------------------------------
DROP PROCEDURE if exists `StartupMigrationEngine`.`SP_ServerEnvironmentMix`;

DELIMITER $$

CREATE PROCEDURE `StartupMigrationEngine`.`SP_ServerEnvironmentMix`(IN serverName VARCHAR(100))
BEGIN
	SELECT ACI.ApplicationComponentInstanceID, S.ServerName,AC.ApplicationComponentName,A.ApplicationName,EnvironmentName FROM 
	Servers S, Applications A,ApplicationComponents AC,ApplicationComponentInstances ACI,Environments E 
	WHERE 
	S.ServerName = serverName AND ACI.ServerID = S.ServerID AND AC.ApplicationComponentID=ACI.ApplicationComponentID 
	AND A.ApplicationID = AC.ApplicationID AND E.EnvironmentID = ACI.EnvironmentID;
END $$

DELIMITER ;

-- -----------------------------------------------------
-- StoredProcedure `StartupMigrationEngine`.`SP_AssetStatistics`
-- -----------------------------------------------------
DROP PROCEDURE if exists `StartupMigrationEngine`.`SP_AssetStatistics`;

DELIMITER $$

CREATE PROCEDURE `StartupMigrationEngine`.`SP_AssetStatistics`()
BEGIN
	DECLARE QtyServers INTEGER;
	DECLARE QtyServersForMigration INTEGER;
	DECLARE QtyPhysicalServers INTEGER;
	DECLARE QtyApplications INTEGER;
	DECLARE QtyAppsForMigration INTEGER;
	DECLARE QtyAppsCreatedForLinks INTEGER;
	DECLARE QtyAppComponentLinks INTEGER;
    
    DROP TEMPORARY TABLE IF EXISTS AssetStatResult;
	CREATE TEMPORARY TABLE IF NOT EXISTS AssetStatResult 
	(	Test VARCHAR(200),
		Result INT
	) ENGINE=MEMORY;
	
	SET @QtyServers = (SELECT COUNT(*) FROM Servers);
	
	SET @QtyServersForMigration = (SELECT COUNT(*) FROM Servers S 
									INNER JOIN MigrationScopes MS ON S.MigrationScopeID = MS.MigrationScopeID
									WHERE MS.MigrationScopeName = 'In Scope for Migration');
									
	SET @QtyPhysicalServers = (SELECT COUNT(*) FROM PhysicalServers);
	SET @QtyApplications = (SELECT COUNT(*) FROM Applications);
	
	SET @QtyAppsForMigration = (SELECT COUNT(*) FROM Applications A 
									INNER JOIN MigrationScopes MS ON A.MigrationScopeID = MS.MigrationScopeID
									WHERE MS.MigrationScopeName = 'In Scope for Migration');
	
	SET @QtyAppsCreatedForLinks = (SELECT COUNT(*) FROM Applications A 
									INNER JOIN MigrationScopes MS ON A.MigrationScopeID = MS.MigrationScopeID
									WHERE MS.MigrationScopeName = 'Created for Link');
	
	SET @QtyAppComponentLinks = (SELECT COUNT(*) FROM LogicalDataLinks);
	
    
	INSERT INTO AssetStatResult 
	SELECT 'Servers' AS Test, @QtyServers As Result
	UNION 
	SELECT 'Servers For Migration' AS Test, @QtyServersForMigration As Result
	UNION 
	SELECT 'Physical Servers' AS Test, @QtyPhysicalServers As Result
	UNION 
	SELECT 'Applications' AS Test, @QtyApplications As Result
	UNION 
	SELECT 'Applications For Migration' AS Test, @QtyAppsForMigration As Result
	UNION 
	SELECT 'Applications Created For Links' AS Test, @QtyAppsCreatedForLinks As Result
	UNION 
	SELECT 'Application Component Links' AS Test, @QtyAppComponentLinks As Result;
	
	SELECT Test, Result FROM AssetStatResult;
	
END $$

DELIMITER ;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
